var KonnektMP=function(){var D=function(P){return function(){function k(a){this.name=a.tagName.toLowerCase();this.template=d[this.name]||'<div class="missing_component">Unknown Component</div>';this.node=a;this.fragment=document.createDocumentFragment();this.wrapper=document.createElement("div");this.wrapper.className="Wrapper Wrapper__"+this.name;this.wrapper.innerHTML=this.template;this.fragment.appendChild(this.wrapper);this.maps=this.map(this.wrapper);this.wrapper.kb_maps=this.maps}function z(a,
t,d,F,r,k,b,l){function c(b){var c=K(b),l=this;this.key="for"!==t?H(b):c[0];this.filterNames=L(b);this.component="for"!==t?c[1]:void 0;this.id=0;this.__proto__.bindText=this.__proto__.bindText.map(function(c){return c===b?this:c});Object.defineProperties(this,{value:{get:this.valget,set:this.valset,enumerable:!0,configurable:!1},_value:f("",!0)});this.__proto__.updateData=function(b){l.isConnected&&l._data&&("string"===typeof b&&(b={value:b}),"function"===typeof l._data.stopChange&&l._data.stopChange().set(l.key,
b.value))};this.__proto__.updateDom=function(b){l.isSynced()&&(l.element.stopChange(),"string"===typeof b&&(b={value:b}),l.value=b.value)}}Object.defineProperties(c.prototype,{valget:f(E),valset:f(M),refresh:f(D),connect:f(Q),deleteMap:f(R),unsync:f(S),isSynced:f(N),type:f(t),text:f(d,!0),bindText:f(F,!0),bindNames:f(A(F),!0),bindListener:f(r),bindProperty:f(k),bindTarget:f(b,!0),element:f(l,!0),_data:f({},!0),filters:f({},!0),maps:f(a,!0)});return c}function E(){return this._value}function M(a){this._value=
"string"===typeof a&&this.isSynced()?a:this._value;this.refresh()}function N(){return this.element.parentElement?!!this.element.parentElement:this.unsync()}function D(){var a=this;"for"!==this.type&&(this.bindTarget[this.bindProperty]=this.bindText.reduce(function(d,n){return d+("string"===typeof n?n:0===n.filterNames.length?n._value:n.filterNames.reduce(function(d,t){if(void 0!==a.filters){if(void 0!==a.filters[t])return a.filters[t](d);console.warn("there is no filter by the name %o in the data model filters %o",
t,Object.keys(a.filters));return d}console.error("Somehow filters object was not added to the mapping via .connect() method, please see dev");return d},n._value))},""));return this}function Q(a){this._data=a;this.filters=void 0!==a.filters?a.filters:this.filters;a=0;for(var d=this.bindNames.length;a<d;a++)this._data.addDataUpdateListener&&(this._data.exists(this.bindNames[a])||this._data.add(this.bindNames[a],this._value),this.value=this._data.get(this.bindNames[a]),"component"!==this.type&&(this.isConnected=
!0,this._data.addDataUpdateListener(this.bindNames[a],this.updateDom),"for"===this.type&&console.log("run for type event listeners")));1!==this.bindText.length||"text"!==this.type&&"attribute"!==this.type||this.element.addAttrUpdateListener("text"===this.type?"html":this.bindListener,this.updateData);return this}function R(){this.maps[this.key].splice(this.id,1);return this}function S(){for(var a=0,d=this.bindNames.length;a<d;a++)this._data.removeDataUpdateListener&&this._data.removeDataUpdateListener(this.bindNames[a],
this.updateDom);this.element.removeAttrUpdateListener("text"===this.type?"html":this.bindListener,this.updateData);this.maps=this.bindNames=this.filters=this._data=null;this.__proto__._data=null;this.__proto__.element=null;this.__proto__.filters=null;this.__proto__.bindTarget=null;this.__proto__.bindText=null;this.__proto__.bindNames=null;this.__proto__.element=null;this.__proto__.maps=null;return!1}function x(a){return a.split(new RegExp("("+r.split("").join("\\")+")(.*?)("+u.split("").join("\\")+
")","g")).map(function(a,d,f){return f[d-1]===r?r+a+u:a}).filter(function(a,d,f){return 0!==a.length&&a!==r&&a!==u&&0!==a.length})}function A(a){return a.filter(function(a){return-1!==a.indexOf(r)&&-1!==a.indexOf(u)}).map(function(a){return H(a)})}function H(a){return a.replace(new RegExp("["+r+u+"]","g"),"").replace(new RegExp("\\"+y.split("").join("\\")+"(.*)"),"").replace(/\s/g,"")}function L(a){return-1!==a.indexOf(y)?a.replace(new RegExp("["+u+"]","g"),"").replace(new RegExp("(.*?)(\\"+y.split("").join("\\")+
")"),"").replace(/\s/g,"").split(","):[]}function K(a){return-1!==a.indexOf("for")?a.replace(new RegExp("["+r+u+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(a){return 0!==a.length}):[]}function f(a,d,n){return{value:a,writable:!!d,enumerable:!1,configurable:!!n}}function O(a,d){for(var n=p[a],f=0,r=n.length;f<r&&(n[f](d),d._stopPropogation);f++);return d._preventDefault}function I(a){var t=a.match(B).map(function(a){return a.replace(/[<\/>]/g,"")});t.filter(function(a,
f){return document.createElement(a)instanceof HTMLUnknownElement&&-1===t.indexOf(a,f+1)&&void 0===d[a]});0!==t.length&&O("unknown",new Event("unknown",t));return t}var d={},B=/(<\/.*?>)/g;P().call();var r="{{",u="}}",y="|",p={unknown:[]};k.prototype.map=function(a){function d(k){for(var p=0,y=k.length;p<y;p++)if(void 0===k[p].kb_maps){k[p].kb_mapper=a;if(3===k[p].nodeType){var b=k[p],l=f,c=b.textContent,w=b.parentElement instanceof HTMLUnknownElement;if(c.match(new RegExp("(\\"+r.split("").join("\\")+
")(.*?)(\\"+u.split("").join("\\")+")","g")))for(var g=w?"component":-1!==c.indexOf("for")&&void 0!==c.indexOf("loop")?"for":"text",b=z(l,g,c,x(c),w?"":"textContent","textContent",b,b.parentElement),c=0,w=b.prototype.bindText.length;c<w;c++)0===b.prototype.bindText[c].indexOf(r)&&(g=new b(b.prototype.bindText[c]),b.prototype.bindText[c]=g,void 0===l[g.key]&&(l[g.key]=[]),g.id=l[g.key].length,l[g.key].push(g))}else for(var l=k[p],b=f,c=l.attributes,w=l instanceof HTMLUnknownElement,g=0,e=c.length;g<
e;g++)if(c[g].value.match(new RegExp("(\\"+r.split("").join("\\")+")(.*?)(\\"+u.split("").join("\\")+")","g")))for(var h=z(b,w?"component":"attribute",c[g].value,x(c[g].value),w?"":c[g].name,"value",c[g],l),q=0,v=h.prototype.bindText.length;q<v;q++)if(0===h.prototype.bindText[q].indexOf(r)){var m=new h(h.prototype.bindText[q]);h.prototype.bindText[q]=m;void 0===b[m.key]&&(b[m.key]=[]);b[m.key].push(m)}k[p].childNodes&&0!==k[p].childNodes.length&&d(k[p].childNodes)}}var f={};d(a.childNodes);return f};
k.prototype.addFilter=function(a,d){void 0!==this.maps[a]&&this.maps[a].forEach(function(a){a.filters.push(d)});return this};k.prototype.removeFilter=function(a,d){void 0!==this.maps[a]&&this.maps[a].forEach(function(f){f.filters.splice(this.maps[a].filters.indexOf(d),1)});return this};k.prototype.swapFilter=function(a,d,f){void 0!==this.maps[a]&&this.maps[a].forEach(function(k){k.filters.splice(this.maps[a].filters.indexOf(d),1,f)});return this};Object.defineProperties(k,{startChars:f(function(a){if(void 0===
a)return r;r="string"===typeof a?a:r;return this}),endChars:f(function(a){if(void 0===a)return u;u="string"===typeof a?a:u;return this}),pipeChars:f(function(a){if(void 0===a)return y;y="string"===typeof a?a:y;return this}),getUnknown:f(I),isRegistered:f(function(a){return void 0!==d[a]}),register:f(function(a,f){void 0===d[a]?(d[a]=f,I(f)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",a);return this}),addEventListener:f(function(a,d){void 0!==p[a]?
p[a].push(d):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",a);return this}),removeEventListener:f(function(a,d){if(void 0!==p[a])for(var f=0,k=p[a].length;f<k;f++)p[a][f].toString()===d.toString()&&p[a].splice(f,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",a);return this})});return k}}(function(){function D(){function k(b,l){var c=b.length,a;for(a=0;a<c&&(b[a](l),void 0===l._stopPropogation);a++);
}function z(b,l){var c=b.length,a;for(a=0;a<c&&(l.child=l.target,l.target=b[a].parent,b[a].func(l),void 0===l._stopPropogation);a++);}function E(b,l){for(var c=b.length;0<c;F++)if(b[F].toString()===l.toString())return!0;return!1}function M(b,l,c,a,d,e,h,q){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.value=c;this.oldValue=a;this.target=b;this.attr=l;this.arguments=d;this.action=e;this.child=void 0;this.type=h;this.stopChange=
q}function N(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function P(b,l,c,a){var d=b.get,e=b.set,h;return function(b){h=d.call(this);c(this,l,b,h,void 0,this._stopChange)&&e.call(this,b);this._stopChange||a(this,l,b,h);this._stopChange=void 0}}function Q(b,l,c,a){var d;return function(e){d=
b.value;c(this,l,e,d,arguments,this._stopChange)&&(b.value=e);this._stopChange||a(this,l,e,d,arguments);this._stopChange=void 0}}function R(b,l,c,a){var d=b.value,e;return function(){c(this,l,null,null,arguments,this._stopChange)&&(e=d.apply(this,arguments));this._stopChange||a(this,l,null,null,arguments,e);this._stopChange=void 0;return e}}function S(b,l,c,a,d){var e=d.style,h=l.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),q,v;return{get:function(){return v},set:function(b){q=v;c(d,l,b,
q,void 0,this._stopChange)&&(v=b,e.setProperty(h,b));this._stopChange||a(d,l,b,q);this._stopChange=void 0},enumerable:!0,configurable:!0}}function x(b,l,c,a){if("function"!==typeof l)return d;var g=-1!==["value","checked"].indexOf(b),e=-1!==t.indexOf(b),h;if(this.toString()!==d.toString())if(c){var q=this.querySelectorAll("*");c=q.length;for(var v,m=0;m<c;m++){v=q[m].attrListeners();if(g||"*"===b)void 0!==q[m].addInputBinding&&q[m].addInputBinding(),void 0!==q[m].addInputBoxBinding&&q[m].addInputBoxBinding();
if(e)d.injectStyleProperty(q[m],b),h=a?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===b){h=a?"_parentStyleUpdateListeners":"_parentStyleListeners";c=t.length;for(var f=0;f<c;f++)d.injectStyleProperty(q[m],t[f]);void 0===v[h]["*"]&&(v[h]["*"]=[]);v[h]["*"].push({parent:this,func:l})}h=a?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===v[h][b]&&(v[h][b]=[]);v[h][b].push({parent:this,func:l})}}else{v=this.attrListeners();if(e)h=a?"_styleUpdateListeners":"_styleListeners",
d.injectStyleProperty(this,b);else{if(g||"*"===b)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===b){h=a?"_styleUpdateListeners":"_styleListeners";c=t.length;for(m=0;m<c;m++)d.injectStyleProperty(this,t[m]);void 0===v[h][b]&&(v[h][b]=[]);v[h][b].push(l)}h=a?"_attrUpdateListeners":"_attrListeners"}void 0===v[h][b]&&(v[h][b]=[]);v[h][b].push(l)}else{if(g||"*"===b)for(f=document.querySelectorAll("input, textarea"),c=f.length,m=
0;m<c;m++)void 0!==f[m].addInputBinding&&f[m].addInputBinding(),void 0!==f[m].addInputBoxBinding&&f[m].addInputBoxBinding();if(e){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));c=e.length+1;e.unshift(document.body);for(m=0;m<c;m++)d.injectStyleProperty(e[m],b);h=a?y:u}else{if("*"===b){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));c=e.length+1;g=t.length;e.unshift(document.body);for(m=0;m<c;m++)for(f=0;f<g;f++)d.injectStyleProperty(e[m],t[f]);h=a?y:u;void 0===
h[b]&&(h[b]=[]);h[b].push(l)}h=a?r:B}void 0===h[b]&&(h[b]=[]);h[b].push(l)}}function A(b,l,c,a){function g(b,a){var c=a[b],d=c.length;for(h=0;h<d;h++)c[h].toString()===l.toString()&&c.splice(h,1)}if("function"!==typeof l)return d;["value","checked"].indexOf(b);var e=-1!==t.indexOf(b),h;if(this.toString()!==d.toString())if(c){c=this.querySelectorAll("*");var q=c.length;e?(e=a?"_childStyleUpdateListeners":"_childStyleListeners",g(b,this.attrListeners()[e]),e=a?"_parentStyleUpdateListeners":"_parentStyleListeners"):
("*"===b&&(e=a?"_childStyleUpdateListeners":"_childStyleListeners",g(b,this.attrListeners()[e])),e=a?"_childAttrUpdateListeners":"_childAttrListeners",g(b,this.attrListeners()[e]),e=a?"_parentAttrUpdateListeners":"_parentAttrListeners");for(h=0;h<q;h++){for(var f=c[h].attrListeners()[e][b],m=f.length,k=0;k<m;k++)f[k].isEqualNode(this)&&f.slice(k,1);if("*"===b)for(listenersStyle=a?"_parentStyleUpdateListeners":"_parentStyleListeners",f=c[h].attrListeners()[e][b],m=f.length,k=0;k<m;k++)f[k].isEqualNode(this)&&
f.slice(k,1)}}else e?e=a?"_styleUpdateListeners":"_styleListeners":("*"===b&&(e=a?"_styleUpdateListeners":"_styleListeners",g(b,this.attrListeners()[e])),e=a?"_attrUpdateListeners":"_attrListeners"),g(b,this.attrListeners()[e]);else e?e=a?y:u:("*"===b&&(e=a?y:u,g(b,e)),e=a?r:B),g(b,e)}function H(b,a){d.addAttrListener.call(this,b,a,!0);return this}function L(b,a){d.addAttrUpdateListener.call(this,b,a,!0);return this}function K(b,a){d.removeAttrListener.call(this,b,a,!0);return this}function f(b,a){d.removeAttrUpdateListener.call(this,
b,a,!0);return this}function O(b,a,c){var d=this.attrListeners();"html"===a&&(a="innerHTML");"events"===a&&(a="onclick");switch(b){case "attr":if(E(d._attrListeners[a],c))return!0;break;case "attrupdate":if(E(d._attrUpdateListeners[a],c))return!0}return!1}function I(){this._stopChange=!0;return this}function d(){function b(b,a){var c,l=a.length;for(c=0;c<l;c++)-1===b.indexOf(a[c])&&b.push(a[c]);return b}function a(b,c){for(var l=Object.keys(b),d,e,f=0,g=l.length;f<g;f++)if(d=l[f],void 0===c[d])c[d]=
b[d].slice();else for(var h=0,w=b[d].length;h<w;h++)e=b[d][h],c[d].push(e)}function c(c){if(3!==c.target.nodeType&&8!==c.target.nodeType){var e=c.target.attrListeners(),f,h=["value","checked"],g=e._attrListeners,w=e._attrUpdateListeners,k=e._parentAttrListeners;f=e._parentAttrUpdateListeners;var p=!1;if(void 0!==B["*"]||void 0!==r["*"])p=!0;if(!0!==p&&void 0!==g["*"]||void 0!==w["*"]||void 0!==k["*"]||void 0!==f["*"])p=!0;if(!0!==p)for(var n=0;n<h.length;n++)if(void 0!==B[h[n]]||void 0!==r[h[n]]||
void 0!==g[h[n]]||void 0!==w[h[n]]||void 0!==k[h[n]]||void 0!==f[h[n]]){p=!0;break}f=p;h=Object.keys(u);g=Object.keys(y);Object.keys(e._styleListeners);Object.keys(e._styleUpdateListeners);w=Object.keys(e._parentStyleListeners);e=Object.keys(e._parentStyleUpdateListeners);k=[];if(0!==h.length||0!==g.length)k=b(k,h),k=b(k,g);if(0!==k.length&&0!==w.length||0!==e.length)k=b(k,w),k=b(k,e);-1!==k.indexOf("*")&&(k=t);var e=k,h=e.length,z,x,g=[],A,w="outerHTML"===c.attr||"outerText"===c.attr?c.attr:void 0,
k=c.target;void 0!==w&&(c.attr="appendChild",c.arguments=[c.target],c.target=c.target.parentElement);if(f){"appendChild"===c.attr&&3!==c.arguments[0].nodeType&&8!==c.arguments[0].nodeType?(g=Array.prototype.slice.call(c.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==c.arguments[0].tagName&&"TEXTAREA"!==c.arguments[0].tagName||g.unshift(c.arguments[0])):g=Array.prototype.slice.call(c.target.querySelectorAll("input,textarea"));A=g.length;for(var C=0;C<A;C++)void 0!==g[C].addInputBinding&&
g[C].addInputBinding(),void 0!==g[C].addInputBoxBinding&&g[C].addInputBoxBinding()}"appendChild"===c.attr&&"#text"!==c.arguments[0].nodeName&&"#comment"!==c.arguments[0].nodeName?(g=Array.prototype.slice.call(c.arguments[0].querySelectorAll("*")),g.unshift(c.arguments[0])):g=Array.prototype.slice.call(c.target.querySelectorAll("*"));f=c.target.__kb._parentAttrListeners;p=c.target.__kb._parentAttrUpdateListeners;n=c.target.__kb._parentStyleListeners;z=c.target.__kb._parentStyleUpdateListeners;A=g.length;
for(C=0;C<A;C++){if(0!==h)for(x=0;x<h;x++)d.injectStyleProperty(g[C],e[x]);x=g[C].attrListeners();a(f,x._parentAttrListeners);a(p,x._parentAttrUpdateListeners);a(n,x._parentStyleListeners);a(z,x._parentStyleUpdateListeners)}void 0!==w&&(c.attr=w,c.target=k,c.arguments=[])}}function f(b){var c=b.target.attributes[b.arguments[0]],a="setAttribute"===b.attr?b.arguments[1]:"";e(b.target,b.arguments[0],a,void 0!==c?c.value:"",[a])||b.preventDefault()}function g(b){var c=b.target.attributes[b.arguments[0]],
a="setAttribute"===b.attr?b.arguments[1]:"";h(b.target,b.arguments[0],a,void 0!==c?c.value:"",[a])}d.injectPrototypes(Node,"Node");d.injectPrototypes(Element,"Element");d.injectPrototypes(HTMLElement,"HTMLElement");d.injectPrototypes(HTMLInputElement,"HTMLInputElement");d.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");d.injectPrototypes(Document,"Document");var e=J,h=G;d.addAttrUpdateListener("appendChild",c);d.addAttrUpdateListener("removeChild",c);d.addAttrUpdateListener("innerHTML",
c);d.addAttrUpdateListener("outerHTML",c);d.addAttrUpdateListener("innerText",c);d.addAttrUpdateListener("outerText",c);d.addAttrUpdateListener("textContent",c);d.addAttrListener("setAttribute",f);d.addAttrListener("removeAttribute",f);d.addAttrUpdateListener("setAttribute",g);d.addAttrUpdateListener("removeAttribute",g);return d}var B={},r={},u={},y={},p={},a="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),t=Object.getOwnPropertyNames(document.body.style),
n=Object.keys(HTMLElement.prototype).filter(function(b){return 0===b.indexOf("on")}).concat(["addEventListener","removeEventListener"]),F,J=function(b,a,c,d,g,e){c=new M(b,a,c,d,g,void 0,"set",e);void 0!==b.__kb&&(d=b.__kb._attrListeners,g=b.__kb._styleListeners,e=b.__kb._parentAttrListeners,b=b.__kb._parentStyleListeners,void 0!==d[a]&&k(d[a],c),void 0===c._stopPropogation&&void 0!==g[a]&&k(g[a],c),void 0===c._stopPropogation&&void 0!==d["*"]&&(k(d["*"],c),void 0===c._stopPropogation&&k(g["*"],c)),
void 0===c._stopPropogation&&void 0!==e[a]&&z(e[a],c),void 0===c._stopPropogation&&void 0!==b[a]&&z(b[a],c),void 0===c._stopPropogation&&void 0!==e["*"]&&(z(e["*"],c),void 0===c._stopPropogation&&z(b["*"],c)));void 0===c._stopPropogation&&void 0!==B[a]&&k(B[a],c);void 0===c._stopPropogation&&void 0!==u[a]&&k(u[a],c);void 0===c._stopPropogation&&void 0!==B["*"]&&(k(B["*"],c),void 0===c._stopPropogation&&k(u["*"],c));return void 0!==c._preventDefault?!1:!0},G=function(b,a,c,d,g,e){c=new M(b,a,c,d,g,
e,"update");void 0!==b.__kb&&(d=b.__kb._attrUpdateListeners,g=b.__kb._styleUpdateListeners,e=b.__kb._parentAttrUpdateListeners,b=b.__kb._parentStyleUpdateListeners,void 0!==d[a]&&k(d[a],c),void 0===c._stopPropogation&&void 0!==g[a]&&k(g[a],c),void 0===c._stopPropogation&&void 0!==d["*"]&&(k(d["*"],c),void 0===c._stopPropogation&&k(g["*"],c)),void 0===c._stopPropogation&&void 0!==e[a]&&z(e[a],c),void 0===c._stopPropogation&&void 0!==b[a]&&z(b[a],c),void 0===c._stopPropogation&&void 0!==e["*"]&&(z(e["*"],
c),void 0===c._stopPropogation&&z(b["*"],c)));void 0===c._stopPropogation&&void 0!==r[a]&&k(r[a],c);void 0===c._stopPropogation&&void 0!==y[a]&&k(y[a],c);void 0===c._stopPropogation&&void 0!==r["*"]&&(k(r["*"],c),void 0===c._stopPropogation&&k(y["*"],c));return void 0!==c._preventDefault?!1:!0};d.injectPrototypeProperty=function(b,a,c,k,g){var e=b.prototype,h=Object.getOwnPropertyDescriptor(e,a);c=c||b.toString().split(/\s+/)[1].split("{")[0].replace("()","");var q=p[c];k=k||J;g=g||G;void 0===e.attrListeners&&
(e={},e.attrListeners=function(){void 0===this.__kb&&(this.__kb=new N);return this.__kb}.bind(e),e.addAttrListener=d.addAttrListener,e.addAttrUpdateListener=d.addAttrUpdateListener,e.addChildAttrListener=H,e.addChildAttrUpdateListener=L,e.hasListener=O,e.removeAttrListener=d.removeAttrListener,e.removeAttrUpdateListener=d.removeAttrUpdateListener,e.removeChildAttrListener=K,e.removeChildAttrUpdateListener=f,e.stopChange=I);void 0===q&&(p[c]={obj:b,proto:e,descriptors:{},set:void 0,update:void 0},
q=p[c],q.set=k,q.update=g);void 0===q.descriptors[a]&&(q.descriptors[a]=h);h.configurable&&(void 0!==h.set?Object.defineProperty(e,a,{get:h.get,set:P(h,a,k,g),enumerable:!0,configurable:!0}):"function"===typeof h.value?Object.defineProperty(e,a,{value:R(h,a,k,g),writable:!0,enumerable:!0,configurable:!0}):void 0!==h.value&&Object.defineProperty(e,a,{get:function(){return h.value},set:Q(h,a,k,g),enumerable:!0,configurable:!0}));return d};d.injectStyleProperty=function(b,a,c,f){var g=b.style,e=Object.getOwnPropertyDescriptor(g,
a),h=b.attrListeners().injectedStyle;c=c||J;f=f||G;void 0===h&&(b.attrListeners().injectedStyle={obj:b,proto:g,descriptors:{},set:void 0,update:void 0},b.attrListeners().injectedStyle.set=c,b.attrListeners().injectedStyle.update=f,h=b.attrListeners().injectedStyle);void 0===h.descriptors[a]&&(h.descriptors[a]=e);e.configurable&&Object.defineProperty(g,a,S(e,a,c,f,b));return d};d.injectPrototypes=function(a,l,c,k){var g=a.prototype;l=l||a.toString().split(/\s+/)[1].split("{")[0].replace("()","");var e=
p[l],h=Object.getOwnPropertyNames(g);c=c||J;k=k||G;var q;void 0===g.attrListeners&&(g.attrListeners=function(){void 0===this.__kb&&(this.__kb=new N);return this.__kb},g.addAttrListener=d.addAttrListener,g.addAttrUpdateListener=d.addAttrUpdateListener,g.addChildAttrListener=H,g.addChildAttrUpdateListener=L,g.removeAttrListener=d.removeAttrListener,g.removeAttrUpdateListener=d.removeAttrUpdateListener,g.removeChildAttrListener=K,g.removeChildAttrUpdateListener=f,g.hasListener=O,g.stopChange=I);void 0===
e&&(p[l]={obj:a,proto:g,descriptors:{},set:void 0,update:void 0},e=p[l],e.set=c,e.update=k);q=p[l].descriptors;for(k=0;k<h.length;k+=1)void 0===q[h[k]]&&d.injectPrototypeProperty(a,h[k],l,c,G);if(-1!==h.indexOf("value")){var n=function(a){var b,c,d;if("checkbox"===this.type||"radio"===this.type)b=!0;c=b?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){d=b?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;b&&(e.set(this,
"checked",this.checked,c)?e.update(this,"checked",this.checked,c):q.checked.set.call(this,c));this.value=d;e.set(this,"value",this.value,c)?e.update(this,"value",this.checked,c):q.value.set.call(this,c)}.bind(this),0)};g.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",n)};g.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",n)};g.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;
this.removeEventListener("mouseup",n)};g.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",n)}}return d};d.addAttrListener=function(b,d,c){if("html"===b){b=0;for(var f=a.length;b<f;b++)x.call(this,a[b],d,c,!1)}else if("events"===b)for(b=0,f=n.length;b<f;b++)x.call(this,n[b],d,c,!1);else x.call(this,b,d,c,!1);return this};d.addAttrUpdateListener=function(b,d,c){if("html"===b){b=0;for(var f=a.length;b<f;b++)x.call(this,a[b],d,c,!0)}else if("events"===
b)for(b=0,f=n.length;b<f;b++)x.call(this,n[b],d,c,!0);else x.call(this,b,d,c,!0);return this};d.removeAttrListener=function(b,d,c){if("html"===b){b=0;for(var f=a.length;b<f;b++)A.call(this,a[b],d,c,!1)}else if("events"===b)for(b=0,f=n.length;b<f;b++)A.call(this,n[b],d,c,!1);else A.call(this,b,d,c,!1);return this};d.removeAttrUpdateListener=function(b,d,c){if("html"===b){b=0;for(var f=a.length;b<f;b++)A.call(this,a[b],d,c,!0)}else if("events"===b)for(b=0,f=n.length;b<f;b++)A.call(this,n[b],d,c,!0);
else A.call(this,b,d,c,!0);return this};d.hasListener=function(a,d,c){"html"===d&&(d="innerHTML");"events"===d&&(d="onclick");switch(a){case "attr":if(E(B[d],c))return!0;break;case "attrupdate":if(E(r[d],c))return!0}return!1};d.injectedPrototypes=function(){return p};return d}"function"===typeof define&&define.amd&&define("KB",D);return D}());"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return D}):"undefined"!==typeof module&&
(module.exports=D);return D}();
