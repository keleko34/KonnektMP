var KonnektMP=function(){var I=function(T){return function(){function r(b,l){this.name=b.tagName.toLowerCase();this.template=z[this.name]||'<div class="missing_component">Unknown Component</div>';this.node=b;this.fragment=document.createDocumentFragment();this.wrapper=document.createElement("div");this.wrapper.className="Wrapper Wrapper__"+this.name;l||(this.wrapper.innerHTML=this.template);this.fragment.appendChild(this.wrapper);l||(this.maps=this.map(this.wrapper));l||(this.wrapper.kb_maps=this.maps)}
function x(b,l,f,a,g,c,e,k){function d(a){var g="for"===l?K(a):[],c=this;this.key="for"!==l?L(a):g[0];this.filterNames=N(a);this.component="for"===l?g[1]:void 0;this.id=0;this.isEvent=h;this.__proto__.bindText=this.__proto__.bindText.map(function(g){return g===a?this:g});Object.defineProperties(this,{value:{get:this.valget,set:this.valset,enumerable:!0,configurable:!1},_value:m("",!0)});this.__proto__.updateData=function(a){if(c.isConnected&&c._data){if("object"!==typeof a||void 0===a.value)a={value:a};
"function"===typeof c._data.stopChange&&c._data.stopChange().set(c.key,a.value)}};this.__proto__.updateDom=function(a){if(c.isSynced()){c.element.stopChange();if("object"!==typeof a||void 0===a.value)a={value:a};c.value=a.value}};this.__proto__.updateLoop=function(){c.kb_loop&&c.loop(c.kb_loop)}}var h="attribute"===l&&-1!==B.indexOf(e.name)||"component"===l&&e.name&&-1!==B.indexOf(e.name);h&&k.stopChange().removeAttribute(e.name);Object.defineProperties(d.prototype,{valget:m(J),valset:m(O),refresh:m(I),
connect:m(U),deleteMap:m(F),loop:m(P),unsync:m(G),isSynced:m(Q),type:m(l),text:m(f,!0),bindText:m(a,!0),bindNames:m("for"===l?[K(a[0])[0]]:R(a),!0),bindListener:m(h?g.toLowerCase():g),bindProperty:m(h?e.name.toLowerCase():c),bindTarget:m(e,!0),element:m(k,!0),_data:m({},!0),filters:m({},!0),maps:m(b,!0),loop:m(P)});return d}function J(){return this._value}function O(b){this._value=this.isSynced()?b:this._value;this.refresh()}function Q(){return this.element.parentElement?!!this.element.parentElement:
this.unsync()}function S(b,l){function f(a,g){return g.reduce(function(g,e){return g+("string"===typeof e?e:0===e.filterNames.length?e._value:e.filterNames.reduce(function(g,c){if(void 0!==a.filters){if(void 0!==a.filters[c])return a.filters[c](g);console.warn("there is no filter by the name %o in the data model filters %o",c,Object.keys(a.filters));return g}console.error("Somehow filters object was not added to the mapping via .connect() method, please see dev");return g},e._value))},"")}return 1===
l.length?"string"===typeof l[0]._value?f(b,l):l[0]._value:f(b,l)}function I(){"for"!==this.type&&(this.isEvent?this.element[this.bindProperty]=this.bindText[0]._value:"component"===this.type?(this.element.k_post||(this.element.k_post={}),this.element.k_post["textContent"===this.bindProperty?"innerHTML":this.bindTarget.name]=S(this,this.bindText)):this.bindTarget[this.bindProperty]=S(this,this.bindText));return this}function U(b){this._data=b;this.filters=void 0!==b.filters?b.filters:this.filters;
b=0;for(var l=this.bindNames.length;b<l;b++)this._data.addDataUpdateListener&&(this._data.exists(this.bindNames[b])||(console.warn("No property by the name %o exists on this data set %o",this.bindNames[b],this._data),this._data.add(this.bindNames[b],this._value)),this.value=this._data.get(this.bindNames[b]),"component"!==this.type&&"for"!==this.type?(this.isConnected=!0,this._data.addDataUpdateListener(this.bindNames[b],this.updateDom)):"for"===this.type&&this._value.addDataUpdateListener&&this._value.addDataUpdateListener("*",
this.updateLoop).addDataCreateListener(this.updateLoop).addDataDeleteListener(this.updateLoop));1!==this.bindText.length||"text"!==this.type&&"attribute"!==this.type&&!this.isEvent||this.element.addAttrUpdateListener("text"===this.type?"html":this.bindListener,this.updateData);return this}function P(b){this.kb_loop=b;this.element.stopChange().innerHTML="";for(var l=this._value,f=0,a=this.filterNames.length;f<a;f++)l=this.filters[this.filterNames[f]](l);l=0;for(f=this._value.length;l<f;l++)a=document.createElement(this.component),
a.k_post=this._value[l],a.kb_wrapper=this.element.kb_wrapper,this.element.stopChange().appendChild(a),"function"===typeof b&&b(a)}function F(){this.maps[this.key].splice(this.id,1);return this}function G(){for(var b=0,l=this.bindNames.length;b<l;b++)this._data.removeDataUpdateListener&&(this._data.removeDataUpdateListener(this.bindNames[b],this.updateDom),this._value.removeDataUpdateListener("*",this.updateLoop).removeDataCreateListener(this.updateLoop).removeDataDeleteListener(this.updateLoop));
this.element.removeAttrUpdateListener("text"===this.type?"html":this.bindListener,this.updateData);this.maps=this.bindNames=this.filters=this._data=null;this.__proto__._data=null;this.__proto__.element=null;this.__proto__.filters=null;this.__proto__.bindTarget=null;this.__proto__.bindText=null;this.__proto__.bindNames=null;this.__proto__.element=null;this.__proto__.maps=null;return!1}function M(b){return b.split(new RegExp("("+t.split("").join("\\")+")(.*?)("+w.split("").join("\\")+")","g")).map(function(b,
f,a){return a[f-1]===t?t+b+w:b}).filter(function(b,f,a){return 0!==b.length&&b!==t&&b!==w&&0!==b.length})}function R(b){return b.filter(function(b){return-1!==b.indexOf(t)&&-1!==b.indexOf(w)}).map(function(b){return L(b)})}function L(b){return b.replace(new RegExp("["+t+w+"]","g"),"").replace(new RegExp("\\"+y.split("").join("\\")+"(.*)"),"").replace(/\s/g,"")}function N(b){return-1!==b.indexOf(y)?b.replace(new RegExp("["+w+"]","g"),"").replace(new RegExp("(.*?)(\\"+y.split("").join("\\")+")"),"").replace(/\s/g,
"").split(","):[]}function K(b){return-1!==b.indexOf("for")?b.replace(new RegExp("["+t+w+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(b){return 0!==b.length}):[]}function m(b,f,D){return{value:b,writable:!!f,enumerable:!1,configurable:!!D}}function f(b,f){for(var D=v[b],a=0,g=D.length;a<g&&(D[a](f),f._stopPropogation);a++);return f._preventDefault}function A(b){var l=b.match(E).map(function(b){return b.replace(/[<\/>]/g,"")});l.filter(function(b,a){return document.createElement(b)instanceof
HTMLUnknownElement&&-1===l.indexOf(b,a+1)&&void 0===z[b]});0!==l.length&&f("unknown",new Event("unknown",l));return l}var z={},E=/(<\/.*?>)/g;T().call();var B=Object.keys(HTMLElement.prototype).filter(function(b){return 0===b.indexOf("on")}),t="{{",w="}}",y="|",v={unknown:[]};r.prototype.map=function(b){function f(a){for(var g=0,c=a.length;g<c;g++)if(void 0===a[g].kb_maps&&8!==a[g].nodeType){a[g].kb_mapper=b;if(3===a[g].nodeType){var e=a[g],k=m,d=e.textContent,h=e.parentElement instanceof HTMLUnknownElement;
if(d.match(new RegExp("(\\"+t.split("").join("\\")+")(.*?)(\\"+w.split("").join("\\")+")","g")))for(var q=h?"component":-1!==d.indexOf("for")&&void 0!==d.indexOf("loop")?"for":"text",e=x(k,q,d,M(d),h?"":"textContent","textContent",e,e.parentElement),d=0,h=e.prototype.bindText.length;d<h;d++){var q=d,n=e.prototype.bindText[d];0===n.indexOf(t)&&(n=new e(n),e.prototype.bindText[q]=n,void 0===k[n.key]&&(k[n.key]=[]),n.id=k[n.key].length,k[n.key].push(n))}}else for(k=a[g],e=m,d=k.attributes,h=k instanceof
HTMLUnknownElement,q=0,n=d.length;q<n;q++){var p=d[q];if(p.value.match(new RegExp("(\\"+t.split("").join("\\")+")(.*?)(\\"+w.split("").join("\\")+")","g")))for(var p=x(e,h?"component":"attribute",p.value,M(p.value),h?"":p.name,"value",p,k),u=0,V=p.prototype.bindText.length;u<V;u++){var r=u,H=p.prototype.bindText[u];0===H.indexOf(t)&&(H=new p(H),p.prototype.bindText[r]=H,void 0===e[H.key]&&(e[H.key]=[]),e[H.key].push(H))}}a[g].childNodes&&0!==a[g].childNodes.length&&f(a[g].childNodes)}}var m={};f(b.childNodes);
return m};r.prototype.addFilter=function(b,f){void 0!==this.maps[b]&&this.maps[b].forEach(function(b){b.filters.push(f);b.refresh()});return this};r.prototype.removeFilter=function(b,f){void 0!==this.maps[b]&&this.maps[b].forEach(function(m){m.filters.splice(this.maps[b].filters.indexOf(f),1);m.refresh()});return this};r.prototype.swapFilter=function(b,f,m){void 0!==this.maps[b]&&this.maps[b].forEach(function(a){a.filters.splice(this.maps[b].filters.indexOf(f),1,m);a.refresh()});return this};Object.defineProperties(r,
{startChars:m(function(b){if(void 0===b)return t;t="string"===typeof b?b:t;return this}),endChars:m(function(b){if(void 0===b)return w;w="string"===typeof b?b:w;return this}),pipeChars:m(function(b){if(void 0===b)return y;y="string"===typeof b?b:y;return this}),getUnknown:m(A),isRegistered:m(function(b){return void 0!==z[b]}),register:m(function(b,f){void 0===z[b]?(z[b]=f,A(f)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",b);return this}),addEventListener:m(function(b,
f){void 0!==v[b]?v[b].push(f):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",b);return this}),removeEventListener:m(function(b,f){if(void 0!==v[b])for(var m=0,a=v[b].length;m<a;m++)v[b][m].toString()===f.toString()&&v[b].splice(m,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",b);return this})});return r}}(function(){function I(){function r(a,g){var c=a.length,e;for(e=0;e<c&&(a[e](g),void 0===g._stopPropogation);e++);
}function x(a,g){var c=a.length,e;for(e=0;e<c&&(g.child=g.target,g.target=a[e].parent,a[e].func(g),void 0===g._stopPropogation);e++);}function J(a,g){for(var c=a.length;0<c;b++)if(a[b].toString()===g.toString())return!0;return!1}function O(a,g,c,e,b,d,f,q){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.value=c;this.oldValue=e;this.target=a;this.attr=g;this.arguments=b;this.action=d;this.child=void 0;this.type=f;this.stopChange=
q}function Q(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function S(a,g,c,e){var b=a.get,d=a.set,f;return function(a){f=b.call(this);c(this,g,a,f,void 0,this._stopChange)&&d.call(this,a);this._stopChange||e(this,g,a,f);this._stopChange=void 0}}function T(a,g,c,e){var b;return function(d){b=
a.value;c(this,g,d,b,arguments,this._stopChange)&&(a.value=d);this._stopChange||e(this,g,d,b,arguments);this._stopChange=void 0}}function U(a,g,c,e){var b=a.value,d;return function(){c(this,g,null,null,arguments,this._stopChange)&&(d=b.apply(this,arguments));this._stopChange||e(this,g,null,null,arguments,d);this._stopChange=void 0;return d}}function P(a,g,c,e,b){var d=b.style,f=g.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),q,n;return{get:function(){return n},set:function(a){q=n;c(b,g,a,
q,void 0,this._stopChange)&&(n=a,d.setProperty(f,a));this._stopChange||e(b,g,a,q);this._stopChange=void 0},enumerable:!0,configurable:!0}}function F(a,g,c,b){if("function"!==typeof g)return f;var k=-1!==["value","checked"].indexOf(a),d=-1!==y.indexOf(a),h;if(this.toString()!==f.toString())if(c){var q=this.querySelectorAll("*");c=q.length;for(var n,p=0;p<c;p++){n=q[p].attrListeners();if(k||"*"===a)void 0!==q[p].addInputBinding&&q[p].addInputBinding(),void 0!==q[p].addInputBoxBinding&&q[p].addInputBoxBinding();
if(d)f.injectStyleProperty(q[p],a),h=b?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===a){h=b?"_parentStyleUpdateListeners":"_parentStyleListeners";c=y.length;for(var u=0;u<c;u++)f.injectStyleProperty(q[p],y[u]);void 0===n[h]["*"]&&(n[h]["*"]=[]);n[h]["*"].push({parent:this,func:g})}h=b?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===n[h][a]&&(n[h][a]=[]);n[h][a].push({parent:this,func:g})}}else{n=this.attrListeners();if(d)h=b?"_styleUpdateListeners":"_styleListeners",
f.injectStyleProperty(this,a);else{if(k||"*"===a)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===a){h=b?"_styleUpdateListeners":"_styleListeners";c=y.length;for(p=0;p<c;p++)f.injectStyleProperty(this,y[p]);void 0===n[h][a]&&(n[h][a]=[]);n[h][a].push(g)}h=b?"_attrUpdateListeners":"_attrListeners"}void 0===n[h][a]&&(n[h][a]=[]);n[h][a].push(g)}else{if(k||"*"===a)for(u=document.querySelectorAll("input, textarea"),c=u.length,p=
0;p<c;p++)void 0!==u[p].addInputBinding&&u[p].addInputBinding(),void 0!==u[p].addInputBoxBinding&&u[p].addInputBoxBinding();if(d){d=Array.prototype.slice.call(document.body.querySelectorAll("*"));c=d.length+1;d.unshift(document.body);for(p=0;p<c;p++)f.injectStyleProperty(d[p],a);h=b?B:E}else{if("*"===a){d=Array.prototype.slice.call(document.body.querySelectorAll("*"));c=d.length+1;k=y.length;d.unshift(document.body);for(p=0;p<c;p++)for(u=0;u<k;u++)f.injectStyleProperty(d[p],y[u]);h=b?B:E;void 0===
h[a]&&(h[a]=[]);h[a].push(g)}h=b?z:A}void 0===h[a]&&(h[a]=[]);h[a].push(g)}}function G(a,g,c,b){function k(a,b){var c=b[a],d=c.length;for(h=0;h<d;h++)c[h].toString()===g.toString()&&c.splice(h,1)}if("function"!==typeof g)return f;["value","checked"].indexOf(a);var d=-1!==y.indexOf(a),h;if(this.toString()!==f.toString())if(c){c=this.querySelectorAll("*");var q=c.length;d?(d=b?"_childStyleUpdateListeners":"_childStyleListeners",k(a,this.attrListeners()[d]),d=b?"_parentStyleUpdateListeners":"_parentStyleListeners"):
("*"===a&&(d=b?"_childStyleUpdateListeners":"_childStyleListeners",k(a,this.attrListeners()[d])),d=b?"_childAttrUpdateListeners":"_childAttrListeners",k(a,this.attrListeners()[d]),d=b?"_parentAttrUpdateListeners":"_parentAttrListeners");for(h=0;h<q;h++){for(var n=c[h].attrListeners()[d][a],p=n.length,u=0;u<p;u++)n[u].isEqualNode(this)&&n.slice(u,1);if("*"===a)for(listenersStyle=b?"_parentStyleUpdateListeners":"_parentStyleListeners",n=c[h].attrListeners()[d][a],p=n.length,u=0;u<p;u++)n[u].isEqualNode(this)&&
n.slice(u,1)}}else d?d=b?"_styleUpdateListeners":"_styleListeners":("*"===a&&(d=b?"_styleUpdateListeners":"_styleListeners",k(a,this.attrListeners()[d])),d=b?"_attrUpdateListeners":"_attrListeners"),k(a,this.attrListeners()[d]);else d?d=b?B:E:("*"===a&&(d=b?B:E,k(a,d)),d=b?z:A),k(a,d)}function M(a,g){f.addAttrListener.call(this,a,g,!0);return this}function R(a,g){f.addAttrUpdateListener.call(this,a,g,!0);return this}function L(a,g){f.removeAttrListener.call(this,a,g,!0);return this}function N(a,g){f.removeAttrUpdateListener.call(this,
a,g,!0);return this}function K(a,g,c){var b=this.attrListeners();"html"===g&&(g="innerHTML");"events"===g&&(g="onclick");switch(a){case "attr":if(J(b._attrListeners[g],c))return!0;break;case "attrupdate":if(J(b._attrUpdateListeners[g],c))return!0}return!1}function m(){this._stopChange=!0;return this}function f(){function a(a,b){var g,c=b.length;for(g=0;g<c;g++)-1===a.indexOf(b[g])&&a.push(b[g]);return a}function g(a,b){for(var g=Object.keys(a),c,d,e=0,f=g.length;e<f;e++)if(c=g[e],void 0===b[c])b[c]=
a[c].slice();else for(var h=0,k=a[c].length;h<k;h++)d=a[c][h],b[c].push(d)}function b(c){if(3!==c.target.nodeType&&8!==c.target.nodeType){var d=c.target.attrListeners(),e,h=["value","checked"],k=d._attrListeners,m=d._attrUpdateListeners,l=d._parentAttrListeners;e=d._parentAttrUpdateListeners;var r=!1;if(void 0!==A["*"]||void 0!==z["*"])r=!0;if(!0!==r&&void 0!==k["*"]||void 0!==m["*"]||void 0!==l["*"]||void 0!==e["*"])r=!0;if(!0!==r)for(var t=0;t<h.length;t++)if(void 0!==A[h[t]]||void 0!==z[h[t]]||
void 0!==k[h[t]]||void 0!==m[h[t]]||void 0!==l[h[t]]||void 0!==e[h[t]]){r=!0;break}e=r;h=Object.keys(E);k=Object.keys(B);Object.keys(d._styleListeners);Object.keys(d._styleUpdateListeners);m=Object.keys(d._parentStyleListeners);d=Object.keys(d._parentStyleUpdateListeners);l=[];if(0!==h.length||0!==k.length)l=a(l,h),l=a(l,k);if(0!==l.length&&0!==m.length||0!==d.length)l=a(l,m),l=a(l,d);-1!==l.indexOf("*")&&(l=y);var d=l,h=d.length,w,v,k=[],x,m="outerHTML"===c.attr||"outerText"===c.attr?c.attr:void 0,
l=c.target;void 0!==m&&(c.attr="appendChild",c.arguments=[c.target],c.target=c.target.parentElement);if(e){"appendChild"===c.attr&&3!==c.arguments[0].nodeType&&8!==c.arguments[0].nodeType?(k=Array.prototype.slice.call(c.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==c.arguments[0].tagName&&"TEXTAREA"!==c.arguments[0].tagName||k.unshift(c.arguments[0])):k=Array.prototype.slice.call(c.target.querySelectorAll("input,textarea"));x=k.length;for(var C=0;C<x;C++)void 0!==k[C].addInputBinding&&
k[C].addInputBinding(),void 0!==k[C].addInputBoxBinding&&k[C].addInputBoxBinding()}"appendChild"===c.attr&&"#text"!==c.arguments[0].nodeName&&"#comment"!==c.arguments[0].nodeName?(k=Array.prototype.slice.call(c.arguments[0].querySelectorAll("*")),k.unshift(c.arguments[0])):k=Array.prototype.slice.call(c.target.querySelectorAll("*"));e=c.target.__kb._parentAttrListeners;r=c.target.__kb._parentAttrUpdateListeners;t=c.target.__kb._parentStyleListeners;w=c.target.__kb._parentStyleUpdateListeners;x=k.length;
for(C=0;C<x;C++){if(0!==h)for(v=0;v<h;v++)f.injectStyleProperty(k[C],d[v]);v=k[C].attrListeners();g(e,v._parentAttrListeners);g(r,v._parentAttrUpdateListeners);g(t,v._parentStyleListeners);g(w,v._parentStyleUpdateListeners)}void 0!==m&&(c.attr=m,c.target=l,c.arguments=[])}}function e(a){var c=a.target.attributes[a.arguments[0]],b="setAttribute"===a.attr?a.arguments[1]:"";d(a.target,a.arguments[0],b,void 0!==c?c.value:"",[b])||a.preventDefault()}function k(a){var c=a.target.attributes[a.arguments[0]],
b="setAttribute"===a.attr?a.arguments[1]:"";h(a.target,a.arguments[0],b,void 0!==c?c.value:"",[b])}f.injectPrototypes(Node,"Node");f.injectPrototypes(Element,"Element");f.injectPrototypes(HTMLElement,"HTMLElement");f.injectPrototypes(HTMLInputElement,"HTMLInputElement");f.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");f.injectPrototypes(Document,"Document");var d=l,h=D;f.addAttrUpdateListener("appendChild",b);f.addAttrUpdateListener("removeChild",b);f.addAttrUpdateListener("innerHTML",
b);f.addAttrUpdateListener("outerHTML",b);f.addAttrUpdateListener("innerText",b);f.addAttrUpdateListener("outerText",b);f.addAttrUpdateListener("textContent",b);f.addAttrListener("setAttribute",e);f.addAttrListener("removeAttribute",e);f.addAttrUpdateListener("setAttribute",k);f.addAttrUpdateListener("removeAttribute",k);return f}var A={},z={},E={},B={},t={},w="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),y=Object.getOwnPropertyNames(document.body.style),
v=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}).concat(["addEventListener","removeEventListener"]),b,l=function(a,b,c,e,f,d){c=new O(a,b,c,e,f,void 0,"set",d);void 0!==a.__kb&&(e=a.__kb._attrListeners,f=a.__kb._styleListeners,d=a.__kb._parentAttrListeners,a=a.__kb._parentStyleListeners,void 0!==e[b]&&r(e[b],c),void 0===c._stopPropogation&&void 0!==f[b]&&r(f[b],c),void 0===c._stopPropogation&&void 0!==e["*"]&&(r(e["*"],c),void 0===c._stopPropogation&&r(f["*"],c)),
void 0===c._stopPropogation&&void 0!==d[b]&&x(d[b],c),void 0===c._stopPropogation&&void 0!==a[b]&&x(a[b],c),void 0===c._stopPropogation&&void 0!==d["*"]&&(x(d["*"],c),void 0===c._stopPropogation&&x(a["*"],c)));void 0===c._stopPropogation&&void 0!==A[b]&&r(A[b],c);void 0===c._stopPropogation&&void 0!==E[b]&&r(E[b],c);void 0===c._stopPropogation&&void 0!==A["*"]&&(r(A["*"],c),void 0===c._stopPropogation&&r(E["*"],c));return void 0!==c._preventDefault?!1:!0},D=function(a,b,c,e,f,d){c=new O(a,b,c,e,f,
d,"update");void 0!==a.__kb&&(e=a.__kb._attrUpdateListeners,f=a.__kb._styleUpdateListeners,d=a.__kb._parentAttrUpdateListeners,a=a.__kb._parentStyleUpdateListeners,void 0!==e[b]&&r(e[b],c),void 0===c._stopPropogation&&void 0!==f[b]&&r(f[b],c),void 0===c._stopPropogation&&void 0!==e["*"]&&(r(e["*"],c),void 0===c._stopPropogation&&r(f["*"],c)),void 0===c._stopPropogation&&void 0!==d[b]&&x(d[b],c),void 0===c._stopPropogation&&void 0!==a[b]&&x(a[b],c),void 0===c._stopPropogation&&void 0!==d["*"]&&(x(d["*"],
c),void 0===c._stopPropogation&&x(a["*"],c)));void 0===c._stopPropogation&&void 0!==z[b]&&r(z[b],c);void 0===c._stopPropogation&&void 0!==B[b]&&r(B[b],c);void 0===c._stopPropogation&&void 0!==z["*"]&&(r(z["*"],c),void 0===c._stopPropogation&&r(B["*"],c));return void 0!==c._preventDefault?!1:!0};f.injectPrototypeProperty=function(a,b,c,e,k){var d=a.prototype,h=Object.getOwnPropertyDescriptor(d,b);c=c||a.toString().split(/\s+/)[1].split("{")[0].replace("()","");var q=t[c];e=e||l;k=k||D;void 0===d.attrListeners&&
(d={},d.attrListeners=function(){void 0===this.__kb&&(this.__kb=new Q);return this.__kb}.bind(d),d.addAttrListener=f.addAttrListener,d.addAttrUpdateListener=f.addAttrUpdateListener,d.addChildAttrListener=M,d.addChildAttrUpdateListener=R,d.hasListener=K,d.removeAttrListener=f.removeAttrListener,d.removeAttrUpdateListener=f.removeAttrUpdateListener,d.removeChildAttrListener=L,d.removeChildAttrUpdateListener=N,d.stopChange=m);void 0===q&&(t[c]={obj:a,proto:d,descriptors:{},set:void 0,update:void 0},
q=t[c],q.set=e,q.update=k);void 0===q.descriptors[b]&&(q.descriptors[b]=h);h.configurable&&(void 0!==h.set?Object.defineProperty(d,b,{get:h.get,set:S(h,b,e,k),enumerable:!0,configurable:!0}):"function"===typeof h.value?Object.defineProperty(d,b,{value:U(h,b,e,k),writable:!0,enumerable:!0,configurable:!0}):void 0!==h.value&&Object.defineProperty(d,b,{get:function(){return h.value},set:T(h,b,e,k),enumerable:!0,configurable:!0}));return f};f.injectStyleProperty=function(a,b,c,e){var k=a.style,d=Object.getOwnPropertyDescriptor(k,
b),h=a.attrListeners().injectedStyle;c=c||l;e=e||D;void 0===h&&(a.attrListeners().injectedStyle={obj:a,proto:k,descriptors:{},set:void 0,update:void 0},a.attrListeners().injectedStyle.set=c,a.attrListeners().injectedStyle.update=e,h=a.attrListeners().injectedStyle);void 0===h.descriptors[b]&&(h.descriptors[b]=d);d.configurable&&Object.defineProperty(k,b,P(d,b,c,e,a));return f};f.injectPrototypes=function(a,b,c,e){var k=a.prototype;b=b||a.toString().split(/\s+/)[1].split("{")[0].replace("()","");var d=
t[b],h=Object.getOwnPropertyNames(k);c=c||l;e=e||D;var q;void 0===k.attrListeners&&(k.attrListeners=function(){void 0===this.__kb&&(this.__kb=new Q);return this.__kb},k.addAttrListener=f.addAttrListener,k.addAttrUpdateListener=f.addAttrUpdateListener,k.addChildAttrListener=M,k.addChildAttrUpdateListener=R,k.removeAttrListener=f.removeAttrListener,k.removeAttrUpdateListener=f.removeAttrUpdateListener,k.removeChildAttrListener=L,k.removeChildAttrUpdateListener=N,k.hasListener=K,k.stopChange=m);void 0===
d&&(t[b]={obj:a,proto:k,descriptors:{},set:void 0,update:void 0},d=t[b],d.set=c,d.update=e);q=t[b].descriptors;for(e=0;e<h.length;e+=1)void 0===q[h[e]]&&f.injectPrototypeProperty(a,h[e],b,c,D);if(-1!==h.indexOf("value")){var n=function(a){var b,c,g;if("checkbox"===this.type||"radio"===this.type)b=!0;c=b?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){g=b?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;b&&(d.set(this,
"checked",this.checked,c)?d.update(this,"checked",this.checked,c):q.checked.set.call(this,c));this.value=g;d.set(this,"value",this.value,c)?d.update(this,"value",this.value,c):q.value.set.call(this,c)}.bind(this),0)};k.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",n)};k.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",n)};k.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;
this.removeEventListener("mouseup",n)};k.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",n)}}return f};f.addAttrListener=function(a,b,c){if("html"===a){a=0;for(var e=w.length;a<e;a++)F.call(this,w[a],b,c,!1)}else if("events"===a)for(a=0,e=v.length;a<e;a++)F.call(this,v[a],b,c,!1);else F.call(this,a,b,c,!1);return this};f.addAttrUpdateListener=function(a,b,c){if("html"===a){a=0;for(var e=w.length;a<e;a++)F.call(this,w[a],b,c,!0)}else if("events"===
a)for(a=0,e=v.length;a<e;a++)F.call(this,v[a],b,c,!0);else F.call(this,a,b,c,!0);return this};f.removeAttrListener=function(a,b,c){if("html"===a){a=0;for(var e=w.length;a<e;a++)G.call(this,w[a],b,c,!1)}else if("events"===a)for(a=0,e=v.length;a<e;a++)G.call(this,v[a],b,c,!1);else G.call(this,a,b,c,!1);return this};f.removeAttrUpdateListener=function(a,b,c){if("html"===a){a=0;for(var e=w.length;a<e;a++)G.call(this,w[a],b,c,!0)}else if("events"===a)for(a=0,e=v.length;a<e;a++)G.call(this,v[a],b,c,!0);
else G.call(this,a,b,c,!0);return this};f.hasListener=function(a,b,c){"html"===b&&(b="innerHTML");"events"===b&&(b="onclick");switch(a){case "attr":if(J(A[b],c))return!0;break;case "attrupdate":if(J(z[b],c))return!0}return!1};f.injectedPrototypes=function(){return t};return f}"function"===typeof define&&define.amd&&define("KB",I);return I}());"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return I}):"undefined"!==typeof module&&
(module.exports=I);return I}();
