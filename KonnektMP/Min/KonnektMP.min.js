var KonnektMP=function(){var G=function(P){return function(){function l(a){this.name=a.tagName.toLowerCase();this.template=E[name]||'<div class="missing_component">Unknown Component</div>';this.node=a;this.fragment=document.createDocumentFragment();this.wrapper=document.createElement("div");this.wrapper.className="Wrapper Wrapper__"+this.name;this.wrapper.innerHTML=this.template;this.fragment.appendChild(this.wrapper);this.maps=this.map(this.wrapper);this.wrapper.kb_maps=this.maps}function x(a,p,
d,n,t,l,u){function c(c){var b=K(c),f=this;this.key="for"!==a?C(c):b[0];this.filterNames=L(c);this.component="for"!==a?b[1]:void 0;this.__proto__.bindText=this.__proto__.bindText.map(function(b){return b===c?this:b});Object.defineProperties(this,{value:{get:this.valget,set:this.valset,enumerable:!0,configurable:!1},_value:m("",!0)});this.updateData=function(c){f.isConnected&&f._data&&("string"===typeof c&&(c={value:c}),"function"===typeof f._data.stopChange&&f._data.stopChange().set(f.key,c.value))};
this.updateDom=function(c){f.isSynced()&&(f.element.stopChange(),"string"===typeof c&&(c={value:c}),f.value=c.value)}}Object.defineProperties(c.prototype,{valget:m(H),valset:m(M),refresh:m(G),connect:m(Q),unsync:m(R),isSynced:m(N),type:m(a),text:m(p,!0),bindText:m(d,!0),bindNames:m(F(d),!0),bindListener:m(n),bindProperty:m(t),bindTarget:m(l,!0),element:m(u,!0),_data:m({},!0),filters:m({},!0)});return c}function H(){return this._value}function M(a){this._value="string"===typeof a&&this.isSynced()?
a:this._value;this.refresh()}function N(){return this.element.parentElement?!!this.element.parentElement:this.unsync()}function G(){var a=this;"for"!==this.type&&(this.bindTarget[this.bindProperty]=this.bindText.reduce(function(p,d){return p+("string"===typeof d?d:0===d.filterNames.length?d._value:d.filterNames.reduce(function(d,p){if(void 0!==a.filters){if(void 0!==a.filters[p])return a.filters[p](d);console.warn("there is no filter by the name %o in the data model filters %o",p,Object.keys(a.filters));
return d}console.error("Somehow filters object was not added to the mapping via .connect() method, please see dev");return d},d._value))},""));return this}function Q(a){this._data=a;this.filters=void 0!==a.filters?a.filters:this.filters;a=0;for(var d=this.bindNames.length;a<d;a++)this._data.addDataUpdateListener&&(this._data.exists(this.bindNames[a])||this._data.add(this.bindNames[a],this._value),this.value=this._data.get(this.bindNames[a]),"component"!==this.type&&(this.isConnected=!0,this._data.addDataUpdateListener(this.bindNames[a],
this.updateDom),"for"===this.type&&console.log("run for type event listeners")));1!==this.bindText.length||"text"!==this.type&&"attribute"!==this.type||this.element.addAttrUpdateListener("text"===this.type?"html":this.bindListener,this.updateData);return this}function R(){for(var a=0,d=this.bindNames.length;a<d;a++)this._data.removeDataUpdateListener&&this._data.removeDataUpdateListener(this.bindNames[a],this.updateDom);this.element.removeAttrUpdateListener("text"===this.type?"html":this.bindListener,
this.updateData);this.bindNames=this.filters=this._data=null;this.__proto__._data=null;this.__proto__.element=null;this.__proto__.filters=null;this.__proto__.bindTarget=null;this.__proto__.bindText=null;this.__proto__.bindNames=null;this.__proto__.element=null;return!1}function O(a){return a.split(new RegExp("("+t.split("").join("\\")+")(.*?)("+u.split("").join("\\")+")","g")).map(function(a,d,n){return n[d-1]===t?t+a+u:a}).filter(function(a,d,n){return 0!==a.length&&a!==t&&a!==u&&0!==a.length})}
function F(a){return a.filter(function(a){return-1!==a.indexOf(t)&&-1!==a.indexOf(u)}).map(function(a){return C(a)})}function C(a){return a.replace(new RegExp("["+t+u+"]","g"),"").replace(new RegExp("\\"+A.split("").join("\\")+"(.*)"),"").replace(/\s/g,"")}function L(a){return-1!==a.indexOf(A)?a.replace(new RegExp("["+u+"]","g"),"").replace(new RegExp("(.*?)(\\"+A.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[]}function K(a){return-1!==a.indexOf("for")?a.replace(new RegExp("["+t+u+"]",
"g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(a){return 0!==a.length}):[]}function m(a,d,B){return{value:a,writable:!!d,enumerable:!1,configurable:!!B}}function S(a,d){for(var B=y[a],n=0,m=B.length;n<m&&(B[n](d),d._stopPropogation);n++);return d._preventDefault}function I(a){var p=a.match(d).map(function(a){return a.replace(/[<\/>]/g,"")});p.filter(function(a,d){return document.createElement(a)instanceof HTMLUnknownElement&&-1===p.indexOf(a,d+1)&&void 0===E[a]});
0!==p.length&&S("unknown",new Event("unknown",p));return p}var E={},d=/(<\/.*?>)/g;P().call();var t="{{",u="}}",A="|",y={unknown:[]};l.prototype.map=function(a){function d(n){for(var l=0,y=n.length;l<y;l++)if(void 0===n[l].kb_maps){n[l].kb_mapper=a;if(3===n[l].nodeType){var v=n[l],c=m,k=v.textContent,b=v.parentElement instanceof HTMLUnknownElement;if(k.match(new RegExp("(\\"+t.split("").join("\\")+")(.*?)(\\"+u.split("").join("\\")+")","g")))for(var f=b?"component":-1!==k.indexOf("for")&&void 0!==
k.indexOf("loop")?"for":"text",v=x(f,k,O(k),b?"":"textContent","textContent",v,v.parentElement),k=0,b=v.prototype.bindText.length;k<b;k++)0===v.prototype.bindText[k].indexOf(t)&&(f=new v(v.prototype.bindText[k]),v.prototype.bindText[k]=f,void 0===c[f.key]&&(c[f.key]=[]),c[f.key].push(f))}else for(var c=n[l],v=m,k=c.attributes,b=c instanceof HTMLUnknownElement,f=0,h=k.length;f<h;f++)if(k[f].value.match(new RegExp("(\\"+t.split("").join("\\")+")(.*?)(\\"+u.split("").join("\\")+")","g")))for(var e=x(b?
"component":"attribute",k[f].value,O(k[f].value),b?"":k[f].name,"value",k[f],c),g=0,z=e.prototype.bindText.length;g<z;g++)if(0===e.prototype.bindText[g].indexOf(t)){var q=new e(e.prototype.bindText[g]);e.prototype.bindText[g]=q;void 0===v[q.key]&&(v[q.key]=[]);v[q.key].push(q)}n[l].childNodes&&0!==n[l].childNodes.length&&d(n[l].childNodes)}}var m={};d(a.childNodes);return m};l.prototype.addFilter=function(a,d){void 0!==this.maps[a]&&this.maps[a].forEach(function(a){a.filters.push(d)});return this};
l.prototype.removeFilter=function(a,d){void 0!==this.maps[a]&&this.maps[a].forEach(function(l){l.filters.splice(this.maps[a].filters.indexOf(d),1)});return this};l.prototype.swapFilter=function(a,d,l){void 0!==this.maps[a]&&this.maps[a].forEach(function(m){m.filters.splice(this.maps[a].filters.indexOf(d),1,l)});return this};Object.defineProperties(l,{startChars:m(function(a){if(void 0===a)return t;t="string"===typeof a?a:t;return this}),endChars:m(function(a){if(void 0===a)return u;u="string"===typeof a?
a:u;return this}),pipeChars:m(function(a){if(void 0===a)return A;A="string"===typeof a?a:A;return this}),getUnknown:m(I),isRegistered:m(function(a){return void 0!==E[a]}),register:m(function(a,d){void 0===E[a]?(E[a]=d,I(d)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",a);return this}),addEventListener:m(function(a,d){void 0!==y[a]?y[a].push(d):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",a);return this}),
removeEventListener:m(function(a,d){if(void 0!==y[a])for(var l=0,m=y[a].length;l<m;l++)y[a][l].toString()===d.toString()&&y[a].splice(l,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",a);return this})});return l}}(function(){function G(){function l(c,k){var b=c.length,f;for(f=0;f<b&&(c[f](k),void 0===k._stopPropogation);f++);}function x(c,k){var b=c.length,f;for(f=0;f<b&&(k.child=k.target,k.target=c[f].parent,c[f].func(k),void 0===k._stopPropogation);f++);
}function H(c,k){for(var b=c.length;0<b;T++)if(c[T].toString()===k.toString())return!0;return!1}function M(c,k,b,f,a,e,d,z){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.value=b;this.oldValue=f;this.target=c;this.attr=k;this.arguments=a;this.action=e;this.child=void 0;this.type=d;this.stopChange=z}function N(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners=
{};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function P(c,k,b,f){var a=c.get,e=c.set,d;return function(c){d=a.call(this);b(this,k,c,d,void 0,this._stopChange)&&e.call(this,c);this._stopChange||f(this,k,c,d);this._stopChange=void 0}}function Q(c,k,b,f){var a;return function(d){a=c.value;b(this,k,d,a,arguments,this._stopChange)&&(c.value=d);this._stopChange||f(this,k,d,a,arguments);this._stopChange=void 0}}function R(c,
k,b,a){var d=c.value,e;return function(){b(this,k,null,null,arguments,this._stopChange)&&(e=d.apply(this,arguments));this._stopChange||a(this,k,null,null,arguments,e);this._stopChange=void 0;return e}}function O(c,k,b,a,d){var e=d.style,g=k.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),z,q;return{get:function(){return q},set:function(c){z=q;b(d,k,c,z,void 0,this._stopChange)&&(q=c,e.setProperty(g,c));this._stopChange||a(d,k,c,z);this._stopChange=void 0},enumerable:!0,configurable:!0}}function F(c,
k,b,a){if("function"!==typeof k)return d;var h=-1!==["value","checked"].indexOf(c),e=-1!==B.indexOf(c),g;if(this.toString()!==d.toString())if(b){var z=this.querySelectorAll("*");b=z.length;for(var q,r=0;r<b;r++){q=z[r].attrListeners();if(h||"*"===c)void 0!==z[r].addInputBinding&&z[r].addInputBinding(),void 0!==z[r].addInputBoxBinding&&z[r].addInputBoxBinding();if(e)d.injectStyleProperty(z[r],c),g=a?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===c){g=a?"_parentStyleUpdateListeners":
"_parentStyleListeners";b=B.length;for(var w=0;w<b;w++)d.injectStyleProperty(z[r],B[w]);void 0===q[g]["*"]&&(q[g]["*"]=[]);q[g]["*"].push({parent:this,func:k})}g=a?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===q[g][c]&&(q[g][c]=[]);q[g][c].push({parent:this,func:k})}}else{q=this.attrListeners();if(e)g=a?"_styleUpdateListeners":"_styleListeners",d.injectStyleProperty(this,c);else{if(h||"*"===c)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();
if("*"===c){g=a?"_styleUpdateListeners":"_styleListeners";b=B.length;for(r=0;r<b;r++)d.injectStyleProperty(this,B[r]);void 0===q[g][c]&&(q[g][c]=[]);q[g][c].push(k)}g=a?"_attrUpdateListeners":"_attrListeners"}void 0===q[g][c]&&(q[g][c]=[]);q[g][c].push(k)}else{if(h||"*"===c)for(w=document.querySelectorAll("input, textarea"),b=w.length,r=0;r<b;r++)void 0!==w[r].addInputBinding&&w[r].addInputBinding(),void 0!==w[r].addInputBoxBinding&&w[r].addInputBoxBinding();if(e){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));
b=e.length+1;e.unshift(document.body);for(r=0;r<b;r++)d.injectStyleProperty(e[r],c);g=a?y:A}else{if("*"===c){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));b=e.length+1;h=B.length;e.unshift(document.body);for(r=0;r<b;r++)for(w=0;w<h;w++)d.injectStyleProperty(e[r],B[w]);g=a?y:A;void 0===g[c]&&(g[c]=[]);g[c].push(k)}g=a?u:t}void 0===g[c]&&(g[c]=[]);g[c].push(k)}}function C(c,k,b,a){function h(c,a){var b=a[c],d=b.length;for(g=0;g<d;g++)b[g].toString()===k.toString()&&b.splice(g,1)}
if("function"!==typeof k)return d;["value","checked"].indexOf(c);var e=-1!==B.indexOf(c),g;if(this.toString()!==d.toString())if(b){b=this.querySelectorAll("*");var z=b.length;e?(e=a?"_childStyleUpdateListeners":"_childStyleListeners",h(c,this.attrListeners()[e]),e=a?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===c&&(e=a?"_childStyleUpdateListeners":"_childStyleListeners",h(c,this.attrListeners()[e])),e=a?"_childAttrUpdateListeners":"_childAttrListeners",h(c,this.attrListeners()[e]),
e=a?"_parentAttrUpdateListeners":"_parentAttrListeners");for(g=0;g<z;g++){for(var q=b[g].attrListeners()[e][c],r=q.length,w=0;w<r;w++)q[w].isEqualNode(this)&&q.slice(w,1);if("*"===c)for(listenersStyle=a?"_parentStyleUpdateListeners":"_parentStyleListeners",q=b[g].attrListeners()[e][c],r=q.length,w=0;w<r;w++)q[w].isEqualNode(this)&&q.slice(w,1)}}else e?e=a?"_styleUpdateListeners":"_styleListeners":("*"===c&&(e=a?"_styleUpdateListeners":"_styleListeners",h(c,this.attrListeners()[e])),e=a?"_attrUpdateListeners":
"_attrListeners"),h(c,this.attrListeners()[e]);else e?e=a?y:A:("*"===c&&(e=a?y:A,h(c,e)),e=a?u:t),h(c,e)}function L(c,a){d.addAttrListener.call(this,c,a,!0);return this}function K(c,a){d.addAttrUpdateListener.call(this,c,a,!0);return this}function m(c,a){d.removeAttrListener.call(this,c,a,!0);return this}function S(c,a){d.removeAttrUpdateListener.call(this,c,a,!0);return this}function I(c,a,b){var d=this.attrListeners();"html"===a&&(a="innerHTML");"events"===a&&(a="onclick");switch(c){case "attr":if(H(d._attrListeners[a],
b))return!0;break;case "attrupdate":if(H(d._attrUpdateListeners[a],b))return!0}return!1}function E(){this._stopChange=!0;return this}function d(){function c(c,a){var b,k=a.length;for(b=0;b<k;b++)-1===c.indexOf(a[b])&&c.push(a[b]);return c}function a(c,b){for(var k=Object.keys(c),d,e,f=0,g=k.length;f<g;f++)if(d=k[f],void 0===b[d])b[d]=c[d].slice();else for(var h=0,l=c[d].length;h<l;h++)e=c[d][h],b[d].push(e)}function b(b){if(3!==b.target.nodeType&&8!==b.target.nodeType){var e=b.target.attrListeners(),
f,g=["value","checked"],h=e._attrListeners,l=e._attrUpdateListeners,m=e._parentAttrListeners;f=e._parentAttrUpdateListeners;var n=!1;if(void 0!==t["*"]||void 0!==u["*"])n=!0;if(!0!==n&&void 0!==h["*"]||void 0!==l["*"]||void 0!==m["*"]||void 0!==f["*"])n=!0;if(!0!==n)for(var p=0;p<g.length;p++)if(void 0!==t[g[p]]||void 0!==u[g[p]]||void 0!==h[g[p]]||void 0!==l[g[p]]||void 0!==m[g[p]]||void 0!==f[g[p]]){n=!0;break}f=n;g=Object.keys(A);h=Object.keys(y);Object.keys(e._styleListeners);Object.keys(e._styleUpdateListeners);
l=Object.keys(e._parentStyleListeners);e=Object.keys(e._parentStyleUpdateListeners);m=[];if(0!==g.length||0!==h.length)m=c(m,g),m=c(m,h);if(0!==m.length&&0!==l.length||0!==e.length)m=c(m,l),m=c(m,e);-1!==m.indexOf("*")&&(m=B);var e=m,g=e.length,v,x,h=[],C,l="outerHTML"===b.attr||"outerText"===b.attr?b.attr:void 0,m=b.target;void 0!==l&&(b.attr="appendChild",b.arguments=[b.target],b.target=b.target.parentElement);if(f){"appendChild"===b.attr&&3!==b.arguments[0].nodeType&&8!==b.arguments[0].nodeType?
(h=Array.prototype.slice.call(b.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==b.arguments[0].tagName&&"TEXTAREA"!==b.arguments[0].tagName||h.unshift(b.arguments[0])):h=Array.prototype.slice.call(b.target.querySelectorAll("input,textarea"));C=h.length;for(var D=0;D<C;D++)void 0!==h[D].addInputBinding&&h[D].addInputBinding(),void 0!==h[D].addInputBoxBinding&&h[D].addInputBoxBinding()}"appendChild"===b.attr&&"#text"!==b.arguments[0].nodeName&&"#comment"!==b.arguments[0].nodeName?(h=Array.prototype.slice.call(b.arguments[0].querySelectorAll("*")),
h.unshift(b.arguments[0])):h=Array.prototype.slice.call(b.target.querySelectorAll("*"));f=b.target.__kb._parentAttrListeners;n=b.target.__kb._parentAttrUpdateListeners;p=b.target.__kb._parentStyleListeners;v=b.target.__kb._parentStyleUpdateListeners;C=h.length;for(D=0;D<C;D++){if(0!==g)for(x=0;x<g;x++)d.injectStyleProperty(h[D],e[x]);x=h[D].attrListeners();a(f,x._parentAttrListeners);a(n,x._parentAttrUpdateListeners);a(p,x._parentStyleListeners);a(v,x._parentStyleUpdateListeners)}void 0!==l&&(b.attr=
l,b.target=m,b.arguments=[])}}function f(c){var b=c.target.attributes[c.arguments[0]],a="setAttribute"===c.attr?c.arguments[1]:"";e(c.target,c.arguments[0],a,void 0!==b?b.value:"",[a])||c.preventDefault()}function h(c){var b=c.target.attributes[c.arguments[0]],a="setAttribute"===c.attr?c.arguments[1]:"";g(c.target,c.arguments[0],a,void 0!==b?b.value:"",[a])}d.injectPrototypes(Node,"Node");d.injectPrototypes(Element,"Element");d.injectPrototypes(HTMLElement,"HTMLElement");d.injectPrototypes(HTMLInputElement,
"HTMLInputElement");d.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");d.injectPrototypes(Document,"Document");var e=J,g=v;d.addAttrUpdateListener("appendChild",b);d.addAttrUpdateListener("removeChild",b);d.addAttrUpdateListener("innerHTML",b);d.addAttrUpdateListener("outerHTML",b);d.addAttrUpdateListener("innerText",b);d.addAttrUpdateListener("outerText",b);d.addAttrUpdateListener("textContent",b);d.addAttrListener("setAttribute",f);d.addAttrListener("removeAttribute",f);d.addAttrUpdateListener("setAttribute",
h);d.addAttrUpdateListener("removeAttribute",h);return d}var t={},u={},A={},y={},a={},p="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),B=Object.getOwnPropertyNames(document.body.style),n=Object.keys(HTMLElement.prototype).filter(function(c){return 0===c.indexOf("on")}).concat(["addEventListener","removeEventListener"]),T,J=function(c,a,b,d,h,e){b=new M(c,a,b,d,h,void 0,"set",e);void 0!==c.__kb&&(d=c.__kb._attrListeners,
h=c.__kb._styleListeners,e=c.__kb._parentAttrListeners,c=c.__kb._parentStyleListeners,void 0!==d[a]&&l(d[a],b),void 0===b._stopPropogation&&void 0!==h[a]&&l(h[a],b),void 0===b._stopPropogation&&void 0!==d["*"]&&(l(d["*"],b),void 0===b._stopPropogation&&l(h["*"],b)),void 0===b._stopPropogation&&void 0!==e[a]&&x(e[a],b),void 0===b._stopPropogation&&void 0!==c[a]&&x(c[a],b),void 0===b._stopPropogation&&void 0!==e["*"]&&(x(e["*"],b),void 0===b._stopPropogation&&x(c["*"],b)));void 0===b._stopPropogation&&
void 0!==t[a]&&l(t[a],b);void 0===b._stopPropogation&&void 0!==A[a]&&l(A[a],b);void 0===b._stopPropogation&&void 0!==t["*"]&&(l(t["*"],b),void 0===b._stopPropogation&&l(A["*"],b));return void 0!==b._preventDefault?!1:!0},v=function(c,a,b,d,h,e){b=new M(c,a,b,d,h,e,"update");void 0!==c.__kb&&(d=c.__kb._attrUpdateListeners,h=c.__kb._styleUpdateListeners,e=c.__kb._parentAttrUpdateListeners,c=c.__kb._parentStyleUpdateListeners,void 0!==d[a]&&l(d[a],b),void 0===b._stopPropogation&&void 0!==h[a]&&l(h[a],
b),void 0===b._stopPropogation&&void 0!==d["*"]&&(l(d["*"],b),void 0===b._stopPropogation&&l(h["*"],b)),void 0===b._stopPropogation&&void 0!==e[a]&&x(e[a],b),void 0===b._stopPropogation&&void 0!==c[a]&&x(c[a],b),void 0===b._stopPropogation&&void 0!==e["*"]&&(x(e["*"],b),void 0===b._stopPropogation&&x(c["*"],b)));void 0===b._stopPropogation&&void 0!==u[a]&&l(u[a],b);void 0===b._stopPropogation&&void 0!==y[a]&&l(y[a],b);void 0===b._stopPropogation&&void 0!==u["*"]&&(l(u["*"],b),void 0===b._stopPropogation&&
l(y["*"],b));return void 0!==b._preventDefault?!1:!0};d.injectPrototypeProperty=function(c,k,b,f,h){var e=c.prototype,g=Object.getOwnPropertyDescriptor(e,k);b=b||c.toString().split(/\s+/)[1].split("{")[0].replace("()","");var l=a[b];f=f||J;h=h||v;void 0===e.attrListeners&&(e={},e.attrListeners=function(){void 0===this.__kb&&(this.__kb=new N);return this.__kb}.bind(e),e.addAttrListener=d.addAttrListener,e.addAttrUpdateListener=d.addAttrUpdateListener,e.addChildAttrListener=L,e.addChildAttrUpdateListener=
K,e.hasListener=I,e.removeAttrListener=d.removeAttrListener,e.removeAttrUpdateListener=d.removeAttrUpdateListener,e.removeChildAttrListener=m,e.removeChildAttrUpdateListener=S,e.stopChange=E);void 0===l&&(a[b]={obj:c,proto:e,descriptors:{},set:void 0,update:void 0},l=a[b],l.set=f,l.update=h);void 0===l.descriptors[k]&&(l.descriptors[k]=g);g.configurable&&(void 0!==g.set?Object.defineProperty(e,k,{get:g.get,set:P(g,k,f,h),enumerable:!0,configurable:!0}):"function"===typeof g.value?Object.defineProperty(e,
k,{value:R(g,k,f,h),writable:!0,enumerable:!0,configurable:!0}):void 0!==g.value&&Object.defineProperty(e,k,{get:function(){return g.value},set:Q(g,k,f,h),enumerable:!0,configurable:!0}));return d};d.injectStyleProperty=function(c,a,b,f){var h=c.style,e=Object.getOwnPropertyDescriptor(h,a),g=c.attrListeners().injectedStyle;b=b||J;f=f||v;void 0===g&&(c.attrListeners().injectedStyle={obj:c,proto:h,descriptors:{},set:void 0,update:void 0},c.attrListeners().injectedStyle.set=b,c.attrListeners().injectedStyle.update=
f,g=c.attrListeners().injectedStyle);void 0===g.descriptors[a]&&(g.descriptors[a]=e);e.configurable&&Object.defineProperty(h,a,O(e,a,b,f,c));return d};d.injectPrototypes=function(c,k,b,f){var h=c.prototype;k=k||c.toString().split(/\s+/)[1].split("{")[0].replace("()","");var e=a[k],g=Object.getOwnPropertyNames(h);b=b||J;f=f||v;var l;void 0===h.attrListeners&&(h.attrListeners=function(){void 0===this.__kb&&(this.__kb=new N);return this.__kb},h.addAttrListener=d.addAttrListener,h.addAttrUpdateListener=
d.addAttrUpdateListener,h.addChildAttrListener=L,h.addChildAttrUpdateListener=K,h.hasListener=I,h.stopChange=E);void 0===e&&(a[k]={obj:c,proto:h,descriptors:{},set:void 0,update:void 0},e=a[k],e.set=b,e.update=f);l=a[k].descriptors;for(f=0;f<g.length;f+=1)void 0===l[g[f]]&&d.injectPrototypeProperty(c,g[f],k,b,v);if(-1!==g.indexOf("value")){var m=function(c){var a,b,d;if("checkbox"===this.type||"radio"===this.type)a=!0;b=a?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;
setTimeout(function(){d=a?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;a&&(e.set(this,"checked",this.checked,b)?e.update(this,"checked",this.checked,b):l.checked.set.call(this,b));this.value=d;e.set(this,"value",this.value,b)?e.update(this,"value",this.checked,b):l.value.set.call(this,b)}.bind(this),0)};h.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",m)};h.addInputBinding=function(){this.attrListeners()._onkeydown=
!0;this.addEventListener("keydown",m)};h.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",m)};h.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",m)}}return d};d.addAttrListener=function(c,a,b){if("html"===c){c=0;for(var d=p.length;c<d;c++)F.call(this,p[c],a,b,!1)}else if("events"===c)for(c=0,d=n.length;c<d;c++)F.call(this,n[c],a,b,!1);else F.call(this,c,a,b,!1);return this};d.addAttrUpdateListener=
function(c,a,b){if("html"===c){c=0;for(var d=p.length;c<d;c++)F.call(this,p[c],a,b,!0)}else if("events"===c)for(c=0,d=n.length;c<d;c++)F.call(this,n[c],a,b,!0);else F.call(this,c,a,b,!0);return this};d.removeAttrListener=function(a,d,b){if("html"===a){a=0;for(var f=p.length;a<f;a++)C.call(this,p[a],d,b,!1)}else if("events"===a)for(a=0,f=n.length;a<f;a++)C.call(this,n[a],d,b,!1);else C.call(this,a,d,b,!1);return this};d.removeAttrUpdateListener=function(a,d,b){if("html"===a){a=0;for(var f=p.length;a<
f;a++)C.call(this,p[a],d,b,!0)}else if("events"===a)for(a=0,f=n.length;a<f;a++)C.call(this,n[a],d,b,!0);else C.call(this,a,d,b,!0);return this};d.hasListener=function(a,d,b){"html"===d&&(d="innerHTML");"events"===d&&(d="onclick");switch(a){case "attr":if(H(t[d],b))return!0;break;case "attrupdate":if(H(u[d],b))return!0}return!1};d.injectedPrototypes=function(){return a};return d}"function"===typeof define&&define.amd&&define("KB",G);return G}());"undefined"!==typeof window&&"undefined"!==typeof window.define&&
"undefined"!==typeof window.require?define([],function(){return G}):"undefined"!==typeof module&&(module.exports=G);return G}();
