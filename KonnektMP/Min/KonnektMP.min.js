var KonnektMP=function(){var H=function(S){return function(){function n(b){var B=b.tagName.toLowerCase(),l=z[B],c=document.createElement("div");c.className=B+"__Wrapper";c.innerHTML=l;return{node:b,wrapper:c,unkowns:I(c.innerHTML),maps:C(c),unloaded:N(c.innerHTML)}}function y(b,B){this.preventDefault=function(){this._preventDefault=!0};this.stopPropagation=function(){this._stopPropogation=!0};this.type=b;this.data=B}function t(b){for(var B=D[b.type],c=0,m=B.length;c<m&&(B[c](b),b._stopPropogation);c++);
return b._preventDefault}function u(b,c,l){return{value:b,writable:!!c,enumerable:!1,configurable:!!l}}function I(b){var c=b.match(E);return c.map(function(b){return b.replace(/[<\/>]/g,"")}).filter(function(b,m){return document.createElement(b)instanceof HTMLUnknownElement&&-1===c.indexOf(b,m+1)})}function N(b){return I(b).filter(function(b,c){return void 0===z[b]})}function L(b,c,l,m,a,k,d,h,g,e,f){this.text=b;this.texts=c;this.bindTexts=l;this.type=m;this.binds=a;this.filters=k;this.target=d;this.prop=
h;this.element=g;this.listener=f;this.parent=e}function O(b,c,l,m,a){this.key=b;this.text=c;this.value=l;this.filters=m}function P(b){return b.split(new RegExp("("+v.split("").join("\\")+")(.*?)("+q.split("").join("\\")+")","g")).map(function(b,c,m){return m[c-1]===v?v+b+q:b}).filter(function(b,c,m){return 0!==b.length&&b!==v&&b!==q&&0!==b.length})}function F(b){return b.split(new RegExp("("+v.split("").join("\\")+")(.*?)("+q.split("").join("\\")+")","g")).filter(function(b,c,m){return b!==v&&b!==
q})}function G(b){return b.split(new RegExp("("+v.split("").join("\\")+")(.*?)("+q.split("").join("\\")+")","g")).filter(function(b,c,m){return m[c-1]===v})}function J(b){return b.replace(new RegExp("\\"+x.split("").join("\\")+"(.*)"),"").replace(/\s/g,"")}function K(b){return-1!==b.indexOf(x)?b.replace(new RegExp("(.*?)(\\"+x.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[]}function H(b){if(-1!==b.indexOf("for")){var c=b.replace(/\s/g,"").split(/for(.*?)loop/).filter(function(b){return 0!==
b.length});return{key:c[0],component:J(c[1]),filters:K(b)}}return null}function Q(b){function B(l){for(var m=[],a=0,k=l.length;a<k;a++)void 0===l[a].kb_maps&&(l[a].kb_mapper=b,m=3===l[a].nodeType?m.concat(c(l[a])):m.concat(R(l[a])),l[a].childNodes&&0!==l[a].childNodes.length&&(m=m.concat(B(l[a].childNodes))));return m}return B(b.childNodes)}function M(b){for(var c=0,l=b.length;c<l;c++)null===b[c].element.parentElement&&(l=new y("unsync",b[c]),t(l),b.splice(c,1),l=b.length);return b}function R(b){for(var c=
b.attributes,l=b instanceof HTMLUnknownElement,m=[],a=0,k=c.length;a<k;a++)if(c[a].value.match(new RegExp("(\\"+v.split("").join("\\")+")(.*?)(\\"+q.split("").join("\\")+")","g"))){var d=G(c[a].value),h=P(c[a].value),g=F(c[a].value),e=new y("mapper",{}),f=new L(c[a].value,h,[],l?"component":"attribute",{},{},l?void 0:c[a],c[a].name,l?b.parentElement:b,l?void 0:b.parentElement,l?void 0:c[a].name);f.binds=d.reduce(function(a,k,b,d){e.type="map";e.data=new O(J(k),k,"",K(k),f);g[g.indexOf(k)]=e.data;
!0!==t(e)&&(a[e.data.key]=e.data);return a},{});f.bindTexts=g;e.type="mapper";e.data=f;!0!==t(e)&&m.push(e.data)}l&&(b.kb_maps=m);return m}function c(b){if(b.textContent.match(new RegExp("(\\"+v.split("").join("\\")+")(.*?)(\\"+q.split("").join("\\")+")","g"))){var c=G(b.textContent),l=P(b.textContent),m=F(b.textContent),a=new y("mapper",{});if(1===c.length&&-1!==c[0].indexOf("for"))a.data=new L(b.textContent,l,[],"for",H(c[0]),{},b,void 0,b,b.parentElement);else{var k=new L(b.textContent,l,[],"text",
{},{},b,"textContent",b,b.parentElement,"textContent");k.binds=c.reduce(function(b,h,c,e){a.type="map";a.data=new O(J(h),h,"",K(h),k);m[m.indexOf(h)]=a.data;!0!==t(a)&&(b[J(h)]=a.data);return b},{});k.bindTexts=m;a.type="mapper";a.data=k}if(!0!==t(a))return[a.data]}return[]}function C(b){function c(a){a.stopChange?(a.child._stopChange=void 0,a.stopChange=void 0):"replaceWith"!==a.attr?0!==a.child.children.length?a.preventDefault():"textContent"!==a.attr&&(a.preventDefault(),"innerHTML"===a.attr&&
(a.child.textContent=a.value)):a.child instanceof HTMLUnknownElement||a.preventDefault()}b.addAttrListener("html",c).addChildAttrListener("html",c).addChildAttrUpdateListener("html",function(a){M(b.kb_maps)}).addChildAttrListener("events",function(a){a.target.getAttribute(a.attr)&&(a.preventDefault(),a.target.setAttribute(a.attr.replace("on","")))});Object.defineProperty(b,"kb_maps",u(Q(b)));for(var l=0,m=b.kb_maps.length;l<m;l++)(function(a){switch(b.kb_maps[a].type){case "text":b.kb_maps[a].parent.addAttrUpdateListener("html",
function(k){void 0===b.kb_maps[a].element.parentElement?(k=new y("unsync",binds[l]),t(k),b.kb_maps.splice(a,1)):1!==b.kb_maps[a].element.childNodes.length&&(k.map=b.kb_maps[a],k=new y("update",k),t(k))});b.kb_maps[a].element.addAttrUpdateListener(b.kb_maps[a].listener,function(k){k.map=b.kb_maps[a];k=new y("update",k);t(k)});break;case "attribute":0===b.kb_maps[a].listener.indexOf("on")&&(b.kb_maps[a].element.setAttribute(b.kb_maps[a].listener.replace("on",""),b.kb_maps[a].element.getAttribute(b.kb_maps[a].listener)),
b.kb_maps[a].element.removeAttribute(b.kb_maps[a].listener),b.kb_maps[a].listener=b.kb_maps[a].listener.replace("on","")),b.kb_maps[a].element.addAttrUpdateListener(b.kb_maps[a].listener,function(k){k.map=b.kb_maps[a];k=new y("update",k);t(k)})}})(l);return b.kb_maps}var z={},E=/(<\/.*?>)/g;S().call();var v="{{",q="}}",x="|",D={mapper:[],unsync:[],map:[],update:[]};Object.defineProperties(n,{getUnkownTemplates:u(I),getUnregisteredTenplates:u(N),isRegistered:u(function(b){return void 0!==z[b]}),register:u(function(b,
c){void 0===z[b]?z[b]=c:console.error("A template with the name",b," already exists");return I(c)}),getTemplate:u(function(b){return z[b]})});Object.defineProperties(n,{startChars:u(function(b){if(void 0===b)return v;v="string"===typeof b&&b!==q?b:v;return this}),endChars:u(function(b){if(void 0===b)return q;q="string"===typeof b&&b!==v?b:q;return this}),pipeChars:u(function(b){if(void 0===b)return x;x="string"===typeof b&&b!==v&&b!==q?b:x;return this}),checkUnsynced:u(M),mapTemplate:u(C),mapNode:u(Q)});
return n}}(function(){function H(){function n(a,k){var b=a.length,c;for(c=0;c<b&&(a[c](k),void 0===k._stopPropogation);c++);}function y(a,k){var b=a.length,c;for(c=0;c<b&&(k.child=k.target,k.target=a[c].parent,a[c].func(k),void 0===k._stopPropogation);c++);}function t(a,k){for(var b=a.length;0<b;B++)if(a[B].toString()===k.toString())return!0;return!1}function u(a,k,b,c,g,e,f,A){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.value=
b;this.oldValue=c;this.target=a;this.attr=k;this.arguments=g;this.action=e;this.child=void 0;this.type=f;this.stopChange=A}function I(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function N(a,k,b,c){var g=a.get,e=a.set,f;return function(a){f=g.call(this);b(this,k,a,f,void 0,this._stopChange)&&
e.call(this,a);this._stopChange||c(this,k,a,f);this._stopChange=void 0}}function L(a,k,b,c){var g;return function(e){g=a.value;b(this,k,e,g,arguments,this._stopChange)&&(a.value=e);this._stopChange||c(this,k,e,g,arguments);this._stopChange=void 0}}function O(a,k,b,c){var g=a.value,e;return function(){b(this,k,null,null,arguments,this._stopChange)&&(e=g.apply(this,arguments));this._stopChange||c(this,k,null,null,arguments,e);this._stopChange=void 0;return e}}function P(a,b,c,h,g){var e=g.style,f=b.replace(/([A-Z])/g,
"-$1").replace("webkit","-webkit"),A,r;return{get:function(){return r},set:function(a){A=r;c(g,b,a,A,void 0,this._stopChange)&&(r=a,e.setProperty(f,a));this._stopChange||h(g,b,a,A);this._stopChange=void 0},enumerable:!0,configurable:!0}}function F(a,b,d,h){if("function"!==typeof b)return c;var g=-1!==["value","checked"].indexOf(a),e=-1!==D.indexOf(a),f;if(this.toString()!==c.toString())if(d){var A=this.querySelectorAll("*");d=A.length;for(var r,p=0;p<d;p++){r=A[p].attrListeners();if(g||"*"===a)void 0!==
A[p].addInputBinding&&A[p].addInputBinding(),void 0!==A[p].addInputBoxBinding&&A[p].addInputBoxBinding();if(e)c.injectStyleProperty(A[p],a),f=h?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===a){f=h?"_parentStyleUpdateListeners":"_parentStyleListeners";d=D.length;for(var w=0;w<d;w++)c.injectStyleProperty(A[p],D[w]);void 0===r[f]["*"]&&(r[f]["*"]=[]);r[f]["*"].push({parent:this,func:b})}f=h?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===r[f][a]&&(r[f][a]=[]);r[f][a].push({parent:this,
func:b})}}else{r=this.attrListeners();if(e)f=h?"_styleUpdateListeners":"_styleListeners",c.injectStyleProperty(this,a);else{if(g||"*"===a)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===a){f=h?"_styleUpdateListeners":"_styleListeners";d=D.length;for(p=0;p<d;p++)c.injectStyleProperty(this,D[p]);void 0===r[f][a]&&(r[f][a]=[]);r[f][a].push(b)}f=h?"_attrUpdateListeners":"_attrListeners"}void 0===r[f][a]&&(r[f][a]=[]);r[f][a].push(b)}else{if(g||
"*"===a)for(w=document.querySelectorAll("input, textarea"),d=w.length,p=0;p<d;p++)void 0!==w[p].addInputBinding&&w[p].addInputBinding(),void 0!==w[p].addInputBoxBinding&&w[p].addInputBoxBinding();if(e){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));d=e.length+1;e.unshift(document.body);for(p=0;p<d;p++)c.injectStyleProperty(e[p],a);f=h?v:E}else{if("*"===a){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));d=e.length+1;g=D.length;e.unshift(document.body);for(p=0;p<
d;p++)for(w=0;w<g;w++)c.injectStyleProperty(e[p],D[w]);f=h?v:E;void 0===f[a]&&(f[a]=[]);f[a].push(b)}f=h?z:C}void 0===f[a]&&(f[a]=[]);f[a].push(b)}}function G(a,b,d,h){function g(a,c){var d=c[a],e=d.length;for(f=0;f<e;f++)d[f].toString()===b.toString()&&d.splice(f,1)}if("function"!==typeof b)return c;["value","checked"].indexOf(a);var e=-1!==D.indexOf(a),f;if(this.toString()!==c.toString())if(d){d=this.querySelectorAll("*");var A=d.length;e?(e=h?"_childStyleUpdateListeners":"_childStyleListeners",
g(a,this.attrListeners()[e]),e=h?"_parentStyleUpdateListeners":"_parentStyleListeners"):("*"===a&&(e=h?"_childStyleUpdateListeners":"_childStyleListeners",g(a,this.attrListeners()[e])),e=h?"_childAttrUpdateListeners":"_childAttrListeners",g(a,this.attrListeners()[e]),e=h?"_parentAttrUpdateListeners":"_parentAttrListeners");for(f=0;f<A;f++){for(var r=d[f].attrListeners()[e][a],p=r.length,w=0;w<p;w++)r[w].isEqualNode(this)&&r.slice(w,1);if("*"===a)for(listenersStyle=h?"_parentStyleUpdateListeners":
"_parentStyleListeners",r=d[f].attrListeners()[e][a],p=r.length,w=0;w<p;w++)r[w].isEqualNode(this)&&r.slice(w,1)}}else e?e=h?"_styleUpdateListeners":"_styleListeners":("*"===a&&(e=h?"_styleUpdateListeners":"_styleListeners",g(a,this.attrListeners()[e])),e=h?"_attrUpdateListeners":"_attrListeners"),g(a,this.attrListeners()[e]);else e?e=h?v:E:("*"===a&&(e=h?v:E,g(a,e)),e=h?z:C),g(a,e)}function J(a,b){c.addAttrListener.call(this,a,b,!0);return this}function K(a,b){c.addAttrUpdateListener.call(this,a,
b,!0);return this}function S(a,b){c.removeAttrListener.call(this,a,b,!0);return this}function Q(a,b){c.removeAttrUpdateListener.call(this,a,b,!0);return this}function M(a,b,c){var h=this.attrListeners();"html"===b&&(b="innerHTML");"events"===b&&(b="onclick");switch(a){case "attr":if(t(h._attrListeners[b],c))return!0;break;case "attrupdate":if(t(h._attrUpdateListeners[b],c))return!0}return!1}function R(){this._stopChange=!0;return this}function c(){function a(a,b){var c,k=b.length;for(c=0;c<k;c++)-1===
a.indexOf(b[c])&&a.push(b[c]);return a}function b(a,c){for(var k=Object.keys(a),d,e,h=0,f=k.length;h<f;h++)if(d=k[h],void 0===c[d])c[d]=a[d].slice();else for(var g=0,l=a[d].length;g<l;g++)e=a[d][g],c[d].push(e)}function d(d){if(3!==d.target.nodeType&&8!==d.target.nodeType){var e=d.target.attrListeners(),h,g=["value","checked"],f=e._attrListeners,l=e._attrUpdateListeners,m=e._parentAttrListeners;h=e._parentAttrUpdateListeners;var q=!1;if(void 0!==C["*"]||void 0!==z["*"])q=!0;if(!0!==q&&void 0!==f["*"]||
void 0!==l["*"]||void 0!==m["*"]||void 0!==h["*"])q=!0;if(!0!==q)for(var n=0;n<g.length;n++)if(void 0!==C[g[n]]||void 0!==z[g[n]]||void 0!==f[g[n]]||void 0!==l[g[n]]||void 0!==m[g[n]]||void 0!==h[g[n]]){q=!0;break}h=q;g=Object.keys(E);f=Object.keys(v);Object.keys(e._styleListeners);Object.keys(e._styleUpdateListeners);l=Object.keys(e._parentStyleListeners);e=Object.keys(e._parentStyleUpdateListeners);m=[];if(0!==g.length||0!==f.length)m=a(m,g),m=a(m,f);if(0!==m.length&&0!==l.length||0!==e.length)m=
a(m,l),m=a(m,e);-1!==m.indexOf("*")&&(m=D);var e=m,g=e.length,y,u,f=[],x,l="outerHTML"===d.attr||"outerText"===d.attr?d.attr:void 0,m=d.target;void 0!==l&&(d.attr="appendChild",d.arguments=[d.target],d.target=d.target.parentElement);if(h){"appendChild"===d.attr&&3!==d.arguments[0].nodeType&&8!==d.arguments[0].nodeType?(f=Array.prototype.slice.call(d.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==d.arguments[0].tagName&&"TEXTAREA"!==d.arguments[0].tagName||f.unshift(d.arguments[0])):f=
Array.prototype.slice.call(d.target.querySelectorAll("input,textarea"));x=f.length;for(var t=0;t<x;t++)void 0!==f[t].addInputBinding&&f[t].addInputBinding(),void 0!==f[t].addInputBoxBinding&&f[t].addInputBoxBinding()}"appendChild"===d.attr&&"#text"!==d.arguments[0].nodeName&&"#comment"!==d.arguments[0].nodeName?(f=Array.prototype.slice.call(d.arguments[0].querySelectorAll("*")),f.unshift(d.arguments[0])):f=Array.prototype.slice.call(d.target.querySelectorAll("*"));h=d.target.__kb._parentAttrListeners;
q=d.target.__kb._parentAttrUpdateListeners;n=d.target.__kb._parentStyleListeners;y=d.target.__kb._parentStyleUpdateListeners;x=f.length;for(t=0;t<x;t++){if(0!==g)for(u=0;u<g;u++)c.injectStyleProperty(f[t],e[u]);u=f[t].attrListeners();b(h,u._parentAttrListeners);b(q,u._parentAttrUpdateListeners);b(n,u._parentStyleListeners);b(y,u._parentStyleUpdateListeners)}void 0!==l&&(d.attr=l,d.target=m,d.arguments=[])}}function h(a){var b=a.target.attributes[a.arguments[0]],d="setAttribute"===a.attr?a.arguments[1]:
"";e(a.target,a.arguments[0],d,void 0!==b?b.value:"",[d])||a.preventDefault()}function g(a){var b=a.target.attributes[a.arguments[0]],d="setAttribute"===a.attr?a.arguments[1]:"";f(a.target,a.arguments[0],d,void 0!==b?b.value:"",[d])}c.injectPrototypes(Node,"Node");c.injectPrototypes(Element,"Element");c.injectPrototypes(HTMLElement,"HTMLElement");c.injectPrototypes(HTMLInputElement,"HTMLInputElement");c.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");c.injectPrototypes(Document,"Document");
var e=l,f=m;c.addAttrUpdateListener("appendChild",d);c.addAttrUpdateListener("removeChild",d);c.addAttrUpdateListener("innerHTML",d);c.addAttrUpdateListener("outerHTML",d);c.addAttrUpdateListener("innerText",d);c.addAttrUpdateListener("outerText",d);c.addAttrUpdateListener("textContent",d);c.addAttrListener("setAttribute",h);c.addAttrListener("removeAttribute",h);c.addAttrUpdateListener("setAttribute",g);c.addAttrUpdateListener("removeAttribute",g);return c}var C={},z={},E={},v={},q={},x="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),
D=Object.getOwnPropertyNames(document.body.style),b=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}).concat(["addEventListener","removeEventListener"]),B,l=function(a,b,d,c,g,e){d=new u(a,b,d,c,g,void 0,"set",e);void 0!==a.__kb&&(c=a.__kb._attrListeners,g=a.__kb._styleListeners,e=a.__kb._parentAttrListeners,a=a.__kb._parentStyleListeners,void 0!==c[b]&&n(c[b],d),void 0===d._stopPropogation&&void 0!==g[b]&&n(g[b],d),void 0===d._stopPropogation&&void 0!==c["*"]&&(n(c["*"],
d),void 0===d._stopPropogation&&n(g["*"],d)),void 0===d._stopPropogation&&void 0!==e[b]&&y(e[b],d),void 0===d._stopPropogation&&void 0!==a[b]&&y(a[b],d),void 0===d._stopPropogation&&void 0!==e["*"]&&(y(e["*"],d),void 0===d._stopPropogation&&y(a["*"],d)));void 0===d._stopPropogation&&void 0!==C[b]&&n(C[b],d);void 0===d._stopPropogation&&void 0!==E[b]&&n(E[b],d);void 0===d._stopPropogation&&void 0!==C["*"]&&(n(C["*"],d),void 0===d._stopPropogation&&n(E["*"],d));return void 0!==d._preventDefault?!1:
!0},m=function(a,b,d,c,g,e){d=new u(a,b,d,c,g,e,"update");void 0!==a.__kb&&(c=a.__kb._attrUpdateListeners,g=a.__kb._styleUpdateListeners,e=a.__kb._parentAttrUpdateListeners,a=a.__kb._parentStyleUpdateListeners,void 0!==c[b]&&n(c[b],d),void 0===d._stopPropogation&&void 0!==g[b]&&n(g[b],d),void 0===d._stopPropogation&&void 0!==c["*"]&&(n(c["*"],d),void 0===d._stopPropogation&&n(g["*"],d)),void 0===d._stopPropogation&&void 0!==e[b]&&y(e[b],d),void 0===d._stopPropogation&&void 0!==a[b]&&y(a[b],d),void 0===
d._stopPropogation&&void 0!==e["*"]&&(y(e["*"],d),void 0===d._stopPropogation&&y(a["*"],d)));void 0===d._stopPropogation&&void 0!==z[b]&&n(z[b],d);void 0===d._stopPropogation&&void 0!==v[b]&&n(v[b],d);void 0===d._stopPropogation&&void 0!==z["*"]&&(n(z["*"],d),void 0===d._stopPropogation&&n(v["*"],d));return void 0!==d._preventDefault?!1:!0};c.injectPrototypeProperty=function(a,b,d,h,g){var e=a.prototype,f=Object.getOwnPropertyDescriptor(e,b);d=d||a.toString().split(/\s+/)[1].split("{")[0].replace("()",
"");var n=q[d];h=h||l;g=g||m;void 0===e.attrListeners&&(e={},e.attrListeners=function(){void 0===this.__kb&&(this.__kb=new I);return this.__kb}.bind(e),e.addAttrListener=c.addAttrListener,e.addAttrUpdateListener=c.addAttrUpdateListener,e.addChildAttrListener=J,e.addChildAttrUpdateListener=K,e.hasListener=M,e.removeAttrListener=c.removeAttrListener,e.removeAttrUpdateListener=c.removeAttrUpdateListener,e.removeChildAttrListener=S,e.removeChildAttrUpdateListener=Q,e.stopChange=R);void 0===n&&(q[d]={obj:a,
proto:e,descriptors:{},set:void 0,update:void 0},n=q[d],n.set=h,n.update=g);void 0===n.descriptors[b]&&(n.descriptors[b]=f);f.configurable&&(void 0!==f.set?Object.defineProperty(e,b,{get:f.get,set:N(f,b,h,g),enumerable:!0,configurable:!0}):"function"===typeof f.value?Object.defineProperty(e,b,{value:O(f,b,h,g),writable:!0,enumerable:!0,configurable:!0}):void 0!==f.value&&Object.defineProperty(e,b,{get:function(){return f.value},set:L(f,b,h,g),enumerable:!0,configurable:!0}));return c};c.injectStyleProperty=
function(a,b,d,h){var g=a.style,e=Object.getOwnPropertyDescriptor(g,b),f=a.attrListeners().injectedStyle;d=d||l;h=h||m;void 0===f&&(a.attrListeners().injectedStyle={obj:a,proto:g,descriptors:{},set:void 0,update:void 0},a.attrListeners().injectedStyle.set=d,a.attrListeners().injectedStyle.update=h,f=a.attrListeners().injectedStyle);void 0===f.descriptors[b]&&(f.descriptors[b]=e);e.configurable&&Object.defineProperty(g,b,P(e,b,d,h,a));return c};c.injectPrototypes=function(a,b,d,h){var g=a.prototype;
b=b||a.toString().split(/\s+/)[1].split("{")[0].replace("()","");var e=q[b],f=Object.getOwnPropertyNames(g);d=d||l;h=h||m;var n;void 0===g.attrListeners&&(g.attrListeners=function(){void 0===this.__kb&&(this.__kb=new I);return this.__kb},g.addAttrListener=c.addAttrListener,g.addAttrUpdateListener=c.addAttrUpdateListener,g.addChildAttrListener=J,g.addChildAttrUpdateListener=K,g.hasListener=M,g.stopChange=R);void 0===e&&(q[b]={obj:a,proto:g,descriptors:{},set:void 0,update:void 0},e=q[b],e.set=d,e.update=
h);n=q[b].descriptors;for(h=0;h<f.length;h+=1)void 0===n[f[h]]&&c.injectPrototypeProperty(a,f[h],b,d,m);if(-1!==f.indexOf("value")){var r=function(a){var b,d,c;if("checkbox"===this.type||"radio"===this.type)b=!0;d=b?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){c=b?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;b&&(e.set(this,"checked",this.checked,d)?e.update(this,"checked",this.checked,d):n.checked.set.call(this,
d));this.value=c;e.set(this,"value",this.value,d)?e.update(this,"value",this.checked,d):n.value.set.call(this,d)}.bind(this),0)};g.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",r)};g.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",r)};g.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;this.removeEventListener("mouseup",r)};g.addInputBoxBinding=function(){this.attrListeners()._onmousedown=
!0;this.addEventListener("mouseup",r)}}return c};c.addAttrListener=function(a,c,d){if("html"===a){a=0;for(var h=x.length;a<h;a++)F.call(this,x[a],c,d,!1)}else if("events"===a)for(a=0,h=b.length;a<h;a++)F.call(this,b[a],c,d,!1);else F.call(this,a,c,d,!1);return this};c.addAttrUpdateListener=function(a,c,d){if("html"===a){a=0;for(var h=x.length;a<h;a++)F.call(this,x[a],c,d,!0)}else if("events"===a)for(a=0,h=b.length;a<h;a++)F.call(this,b[a],c,d,!0);else F.call(this,a,c,d,!0);return this};c.removeAttrListener=
function(a,c,d){if("html"===a){a=0;for(var h=x.length;a<h;a++)G.call(this,x[a],c,d,!1)}else if("events"===a)for(a=0,h=b.length;a<h;a++)G.call(this,b[a],c,d,!1);else G.call(this,a,c,d,!1);return this};c.removeAttrUpdateListener=function(a,c,d){if("html"===a){a=0;for(var h=x.length;a<h;a++)G.call(this,x[a],c,d,!0)}else if("events"===a)for(a=0,h=b.length;a<h;a++)G.call(this,b[a],c,d,!0);else G.call(this,a,c,d,!0);return this};c.hasListener=function(a,b,c){"html"===b&&(b="innerHTML");"events"===b&&(b=
"onclick");switch(a){case "attr":if(t(C[b],c))return!0;break;case "attrupdate":if(t(z[b],c))return!0}return!1};c.injectedPrototypes=function(){return q};return c}"function"===typeof define&&define.amd&&define("KB",H);return H}());"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return H}):"undefined"!==typeof module&&(module.exports=H);return H}();
