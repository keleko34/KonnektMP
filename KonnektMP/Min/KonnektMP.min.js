var KonnektMP=function(){var H=function(S){return function(){function m(a,n){this.name=a.tagName.toLowerCase();this.template=z[this.name]||'<div class="missing_component">Unknown Component</div>';this.node=a;this.fragment=document.createDocumentFragment();this.wrapper=document.createElement("div");this.wrapper.className="Wrapper Wrapper__"+this.name;n||(this.wrapper.innerHTML=this.template);this.fragment.appendChild(this.wrapper);n||(this.maps=this.map(this.wrapper));n||(this.wrapper.kb_maps=this.maps)}
function w(a,n,f,b,g,c,d,k){function e(b){var g="for"===n?J(b):[],c=this;this.key="for"!==n?K(b):g[0];this.filterNames=M(b);this.component="for"===n?g[1]:void 0;this.id=0;this.isEvent=h;this.__proto__.bindText=this.__proto__.bindText.map(function(g){return g===b?this:g});Object.defineProperties(this,{value:{get:this.valget,set:this.valset,enumerable:!0,configurable:!1},_value:l("",!0)});this.updateData=function(b){if(c.isConnected&&c._data){if("object"!==typeof b||void 0===b.value)b={value:b};"function"===
typeof c._data.stopChange&&c._data.stopChange().set(c.key,b.value)}};this.updateDom=function(b){if(c.isSynced()){c.element.stopChange();if("object"!==typeof b||void 0===b.value)b={value:b};c.value=b.value}};this.updateLoop=function(){c.kb_loop&&c.loop(c.kb_loop)}}var h="attribute"===n&&-1!==B.indexOf(d.name)||"component"===n&&d.name&&-1!==B.indexOf(d.name);h&&k.stopChange().removeAttribute(d.name);Object.defineProperties(e.prototype,{valget:l(I),valset:l(N),refresh:l(H),connect:l(T),deleteMap:l(E),
loop:l(O),unsync:l(F),isSynced:l(P),type:l(n),text:l(f,!0),bindText:l(b,!0),bindNames:l("for"===n?[J(b[0])[0]]:Q(b),!0),bindListener:l(h?g.toLowerCase():g),bindProperty:l(h?d.name.toLowerCase():c),bindTarget:l(d,!0),element:l(k,!0),_data:l({},!0),filters:l({},!0),maps:l(a,!0),loop:l(O)});return e}function I(){return this._value}function N(a){this._value=this.isSynced()?a:this._value;this.refresh()}function P(){return this.element.parentElement?!!this.element.parentElement:this.unsync()}function R(a,
n){function f(b,g){return g.reduce(function(g,d){return g+("string"===typeof d?d:0===d.filterNames.length?d._value:d.filterNames.reduce(function(g,c){if(void 0!==b.filters){if(void 0!==b.filters[c])return b.filters[c](g);console.warn("there is no filter by the name %o in the data model filters %o",c,Object.keys(b.filters));return g}console.error("Somehow filters object was not added to the mapping via .connect() method, please see dev");return g},d._value))},"")}return 1===n.length?"string"===typeof n[0]._value?
f(a,n):n[0]._value:f(a,n)}function H(){"for"!==this.type&&(this.isEvent?this.element[this.bindProperty]=this.bindText[0]._value:"component"===this.type?(this.element.k_post||(this.element.k_post={}),this.element.k_post["textContent"===this.bindProperty?"innerHTML":this.bindTarget.name]=R(this,this.bindText)):this.bindTarget[this.bindProperty]=R(this,this.bindText));return this}function T(a){this._data=a;this.filters=void 0!==a.filters?a.filters:this.filters;a=0;for(var n=this.bindNames.length;a<n;a++){var f=
this.bindNames[a];this._data.addDataUpdateListener&&(this._data.exists(f)||(console.warn("No property by the name %o exists on this data set %o",f,this._data),this._data.add(f,this._value)),this.value=this._data.get(f),"component"!==this.type&&"for"!==this.type?(this.isConnected=!0,this._data.addDataUpdateListener(f,this.updateDom)):"for"===this.type&&this._value.addDataUpdateListener&&this._value.addDataUpdateListener("*",this.updateLoop).addDataCreateListener(this.updateLoop).addDataDeleteListener(this.updateLoop))}1!==
this.bindText.length||"text"!==this.type&&"attribute"!==this.type&&!this.isEvent||this.element.addAttrUpdateListener("text"===this.type?"html":this.bindListener,this.updateData);return this}function O(a){this.kb_loop=a;this.element.stopChange().innerHTML="";for(var n=this._value,f=0,b=this.filterNames.length;f<b;f++)n=this.filters[this.filterNames[f]](n);n=0;for(f=this._value.length;n<f;n++){var b=this._value[n],g=document.createElement(this.component);g.k_post=b;g.kb_wrapper=this.element.kb_wrapper;
this.element.stopChange().appendChild(g);"function"===typeof a&&a(g)}}function E(){this.maps[this.key].splice(this.id,1);return this}function F(){for(var a=0,n=this.bindNames.length;a<n;a++)this._data.removeDataUpdateListener&&(this._data.removeDataUpdateListener(this.bindNames[a],this.updateDom),this._value.removeDataUpdateListener("*",this.updateLoop).removeDataCreateListener(this.updateLoop).removeDataDeleteListener(this.updateLoop));this.element.removeAttrUpdateListener("text"===this.type?"html":
this.bindListener,this.updateData);this.maps=this.bindNames=this.filters=this._data=null;this.__proto__._data=null;this.__proto__.element=null;this.__proto__.filters=null;this.__proto__.bindTarget=null;this.__proto__.bindText=null;this.__proto__.bindNames=null;this.__proto__.element=null;this.__proto__.maps=null;return!1}function L(a){return a.split(new RegExp("("+u.split("").join("\\")+")(.*?)("+r.split("").join("\\")+")","g")).map(function(a,f,b){return b[f-1]===u?u+a+r:a}).filter(function(a,f,
b){return 0!==a.length&&a!==u&&a!==r&&0!==a.length})}function Q(a){return a.filter(function(a){return-1!==a.indexOf(u)&&-1!==a.indexOf(r)}).map(function(a){return K(a)})}function K(a){return a.replace(new RegExp("["+u+r+"]","g"),"").replace(new RegExp("\\"+y.split("").join("\\")+"(.*)"),"").replace(/\s/g,"")}function M(a){return-1!==a.indexOf(y)?a.replace(new RegExp("["+r+"]","g"),"").replace(new RegExp("(.*?)(\\"+y.split("").join("\\")+")"),"").replace(/\s/g,"").split(","):[]}function J(a){return-1!==
a.indexOf("for")?a.replace(new RegExp("["+u+r+"]","g"),"").replace(/\|(.*)/,"").replace(/\s/g,"").split(/for(.*?)loop/).filter(function(a){return 0!==a.length}):[]}function l(a,f,C){return{value:a,writable:!!f,enumerable:!1,configurable:!!C}}function f(a,f){for(var C=x[a],b=0,g=C.length;b<g&&(C[b](f),f._stopPropogation);b++);return f._preventDefault}function A(a){var n=a.match(D).map(function(a){return a.replace(/[<\/>]/g,"")});n.filter(function(a,b){return document.createElement(a)instanceof HTMLUnknownElement&&
-1===n.indexOf(a,b+1)&&void 0===z[a]});0!==n.length&&f("unknown",new Event("unknown",n));return n}var z={},D=/(<\/.*?>)/g;S().call();var B=Object.keys(HTMLElement.prototype).filter(function(a){return 0===a.indexOf("on")}),u="{{",r="}}",y="|",x={unknown:[]};m.prototype.map=function(a){function f(b){for(var g=0,c=b.length;g<c;g++)if(void 0===b[g].kb_maps&&8!==b[g].nodeType){b[g].kb_mapper=a;if(3===b[g].nodeType){var d=b[g],k=l,e=d.textContent,h=d.parentElement instanceof HTMLUnknownElement;if(e.match(new RegExp("(\\"+
u.split("").join("\\")+")(.*?)(\\"+r.split("").join("\\")+")","g")))for(var v=h?"component":-1!==e.indexOf("for")&&void 0!==e.indexOf("loop")?"for":"text",d=w(k,v,e,L(e),h?"":"textContent","textContent",d,d.parentElement),e=0,h=d.prototype.bindText.length;e<h;e++){var v=e,p=d.prototype.bindText[e];0===p.indexOf(u)&&(p=new d(p),d.prototype.bindText[v]=p,void 0===k[p.key]&&(k[p.key]=[]),p.id=k[p.key].length,k[p.key].push(p))}}else for(k=b[g],d=l,e=k.attributes,h=k instanceof HTMLUnknownElement,v=0,
p=e.length;v<p;v++){var q=e[v];if(q.value.match(new RegExp("(\\"+u.split("").join("\\")+")(.*?)(\\"+r.split("").join("\\")+")","g")))for(var q=w(d,h?"component":"attribute",q.value,L(q.value),h?"":q.name,"value",q,k),t=0,U=q.prototype.bindText.length;t<U;t++){var m=t,G=q.prototype.bindText[t];0===G.indexOf(u)&&(G=new q(G),q.prototype.bindText[m]=G,void 0===d[G.key]&&(d[G.key]=[]),d[G.key].push(G))}}b[g].childNodes&&0!==b[g].childNodes.length&&f(b[g].childNodes)}}var l={};f(a.childNodes);return l};
m.prototype.addFilter=function(a,f){void 0!==this.maps[a]&&this.maps[a].forEach(function(a){a.filters.push(f);a.refresh()});return this};m.prototype.removeFilter=function(a,f){void 0!==this.maps[a]&&this.maps[a].forEach(function(l){l.filters.splice(this.maps[a].filters.indexOf(f),1);l.refresh()});return this};m.prototype.swapFilter=function(a,f,l){void 0!==this.maps[a]&&this.maps[a].forEach(function(b){b.filters.splice(this.maps[a].filters.indexOf(f),1,l);b.refresh()});return this};Object.defineProperties(m,
{startChars:l(function(a){if(void 0===a)return u;u="string"===typeof a?a:u;return this}),endChars:l(function(a){if(void 0===a)return r;r="string"===typeof a?a:r;return this}),pipeChars:l(function(a){if(void 0===a)return y;y="string"===typeof a?a:y;return this}),getUnknown:l(A),isRegistered:l(function(a){return void 0!==z[a]}),register:l(function(a,f){void 0===z[a]?(z[a]=f,A(f)):console.error("Class: KonnektMP Method: 'register', A template by the name %o already exists",a);return this}),addEventListener:l(function(a,
f){void 0!==x[a]?x[a].push(f):console.error("Class: KonnektMP Method: 'addEventListener', No event exists with the name %o",a);return this}),removeEventListener:l(function(a,f){if(void 0!==x[a])for(var l=0,b=x[a].length;l<b;l++)x[a][l].toString()===f.toString()&&x[a].splice(l,1);else console.error("Class: KonnektMP Method: 'removeEventListener', No event exists with the name %o",a);return this})});return m}}(function(){function H(){function m(b,g){var c=b.length,d;for(d=0;d<c&&(b[d](g),void 0===g._stopPropogation);d++);
}function w(b,g){var c=b.length,d;for(d=0;d<c&&(g.child=g.target,g.target=b[d].parent,b[d].func(g),void 0===g._stopPropogation);d++);}function I(b,g){for(var c=b.length;0<c;a++)if(b[a].toString()===g.toString())return!0;return!1}function N(b,g,c,d,a,e,f,v){this.stopPropagation=function(){this._stopPropogation=!0};this.preventDefault=function(){this._preventDefault=!0};this.value=c;this.oldValue=d;this.target=b;this.attr=g;this.arguments=a;this.action=e;this.child=void 0;this.type=f;this.stopChange=
v}function P(){this._attrListeners={};this._attrUpdateListeners={};this._styleListeners={};this._styleUpdateListeners={};this._parentStyleListeners={};this._parentStyleUpdateListeners={};this._parentAttrListeners={};this._parentAttrUpdateListeners={};this._injectedStyle={}}function R(b,g,c,d){var a=b.get,e=b.set,f;return function(b){f=a.call(this);c(this,g,b,f,void 0,this._stopChange)&&e.call(this,b);this._stopChange||d(this,g,b,f);this._stopChange=void 0}}function S(b,g,c,d){var a;return function(e){a=
b.value;c(this,g,e,a,arguments,this._stopChange)&&(b.value=e);this._stopChange||d(this,g,e,a,arguments);this._stopChange=void 0}}function T(b,g,c,d){var a=b.value,e;return function(){c(this,g,null,null,arguments,this._stopChange)&&(e=a.apply(this,arguments));this._stopChange||d(this,g,null,null,arguments,e);this._stopChange=void 0;return e}}function O(b,g,c,d,a){var e=a.style,f=g.replace(/([A-Z])/g,"-$1").replace("webkit","-webkit"),v,p;return{get:function(){return p},set:function(b){v=p;c(a,g,b,
v,void 0,this._stopChange)&&(p=b,e.setProperty(f,b));this._stopChange||d(a,g,b,v);this._stopChange=void 0},enumerable:!0,configurable:!0}}function E(b,g,c,d){if("function"!==typeof g)return f;var a=-1!==["value","checked"].indexOf(b),e=-1!==y.indexOf(b),h;if(this.toString()!==f.toString())if(c){var v=this.querySelectorAll("*");c=v.length;for(var p,q=0;q<c;q++){p=v[q].attrListeners();if(a||"*"===b)void 0!==v[q].addInputBinding&&v[q].addInputBinding(),void 0!==v[q].addInputBoxBinding&&v[q].addInputBoxBinding();
if(e)f.injectStyleProperty(v[q],b),h=d?"_parentStyleUpdateListeners":"_parentStyleListeners";else{if("*"===b){h=d?"_parentStyleUpdateListeners":"_parentStyleListeners";c=y.length;for(var t=0;t<c;t++)f.injectStyleProperty(v[q],y[t]);void 0===p[h]["*"]&&(p[h]["*"]=[]);p[h]["*"].push({parent:this,func:g})}h=d?"_parentAttrUpdateListeners":"_parentAttrListeners"}void 0===p[h][b]&&(p[h][b]=[]);p[h][b].push({parent:this,func:g})}}else{p=this.attrListeners();if(e)h=d?"_styleUpdateListeners":"_styleListeners",
f.injectStyleProperty(this,b);else{if(a||"*"===b)void 0!==this.addInputBinding&&this.addInputBinding(),void 0!==this.addInputBoxBinding&&this.addInputBoxBinding();if("*"===b){h=d?"_styleUpdateListeners":"_styleListeners";c=y.length;for(q=0;q<c;q++)f.injectStyleProperty(this,y[q]);void 0===p[h][b]&&(p[h][b]=[]);p[h][b].push(g)}h=d?"_attrUpdateListeners":"_attrListeners"}void 0===p[h][b]&&(p[h][b]=[]);p[h][b].push(g)}else{if(a||"*"===b)for(t=document.querySelectorAll("input, textarea"),c=t.length,q=
0;q<c;q++)void 0!==t[q].addInputBinding&&t[q].addInputBinding(),void 0!==t[q].addInputBoxBinding&&t[q].addInputBoxBinding();if(e){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));c=e.length+1;e.unshift(document.body);for(q=0;q<c;q++)f.injectStyleProperty(e[q],b);h=d?B:D}else{if("*"===b){e=Array.prototype.slice.call(document.body.querySelectorAll("*"));c=e.length+1;a=y.length;e.unshift(document.body);for(q=0;q<c;q++)for(t=0;t<a;t++)f.injectStyleProperty(e[q],y[t]);h=d?B:D;void 0===
h[b]&&(h[b]=[]);h[b].push(g)}h=d?z:A}void 0===h[b]&&(h[b]=[]);h[b].push(g)}}function F(b,g,c,a){function k(b,c){var a=c[b],d=a.length;for(h=0;h<d;h++)a[h].toString()===g.toString()&&a.splice(h,1)}if("function"!==typeof g)return f;["value","checked"].indexOf(b);var e=-1!==y.indexOf(b),h;if(this.toString()!==f.toString())if(c){c=this.querySelectorAll("*");var v=c.length;e?(e=a?"_childStyleUpdateListeners":"_childStyleListeners",k(b,this.attrListeners()[e]),e=a?"_parentStyleUpdateListeners":"_parentStyleListeners"):
("*"===b&&(e=a?"_childStyleUpdateListeners":"_childStyleListeners",k(b,this.attrListeners()[e])),e=a?"_childAttrUpdateListeners":"_childAttrListeners",k(b,this.attrListeners()[e]),e=a?"_parentAttrUpdateListeners":"_parentAttrListeners");for(h=0;h<v;h++){for(var p=c[h].attrListeners()[e][b],q=p.length,t=0;t<q;t++)p[t].isEqualNode(this)&&p.slice(t,1);if("*"===b)for(listenersStyle=a?"_parentStyleUpdateListeners":"_parentStyleListeners",p=c[h].attrListeners()[e][b],q=p.length,t=0;t<q;t++)p[t].isEqualNode(this)&&
p.slice(t,1)}}else e?e=a?"_styleUpdateListeners":"_styleListeners":("*"===b&&(e=a?"_styleUpdateListeners":"_styleListeners",k(b,this.attrListeners()[e])),e=a?"_attrUpdateListeners":"_attrListeners"),k(b,this.attrListeners()[e]);else e?e=a?B:D:("*"===b&&(e=a?B:D,k(b,e)),e=a?z:A),k(b,e)}function L(b,g){f.addAttrListener.call(this,b,g,!0);return this}function Q(b,g){f.addAttrUpdateListener.call(this,b,g,!0);return this}function K(b,g){f.removeAttrListener.call(this,b,g,!0);return this}function M(b,g){f.removeAttrUpdateListener.call(this,
b,g,!0);return this}function J(b,g,c){var a=this.attrListeners();"html"===g&&(g="innerHTML");"events"===g&&(g="onclick");switch(b){case "attr":if(I(a._attrListeners[g],c))return!0;break;case "attrupdate":if(I(a._attrUpdateListeners[g],c))return!0}return!1}function l(){this._stopChange=!0;return this}function f(){function b(b,g){var a,c=g.length;for(a=0;a<c;a++)-1===b.indexOf(g[a])&&b.push(g[a]);return b}function g(b,g){for(var a=Object.keys(b),c,e,d=0,f=a.length;d<f;d++)if(c=a[d],void 0===g[c])g[c]=
b[c].slice();else for(var h=0,k=b[c].length;h<k;h++)e=b[c][h],g[c].push(e)}function c(c){if(3!==c.target.nodeType&&8!==c.target.nodeType){var a=c.target.attrListeners(),e,d=["value","checked"],h=a._attrListeners,k=a._attrUpdateListeners,l=a._parentAttrListeners;e=a._parentAttrUpdateListeners;var n=!1;if(void 0!==A["*"]||void 0!==z["*"])n=!0;if(!0!==n&&void 0!==h["*"]||void 0!==k["*"]||void 0!==l["*"]||void 0!==e["*"])n=!0;if(!0!==n)for(var m=0;m<d.length;m++)if(void 0!==A[d[m]]||void 0!==z[d[m]]||
void 0!==h[d[m]]||void 0!==k[d[m]]||void 0!==l[d[m]]||void 0!==e[d[m]]){n=!0;break}e=n;d=Object.keys(D);h=Object.keys(B);Object.keys(a._styleListeners);Object.keys(a._styleUpdateListeners);k=Object.keys(a._parentStyleListeners);a=Object.keys(a._parentStyleUpdateListeners);l=[];if(0!==d.length||0!==h.length)l=b(l,d),l=b(l,h);if(0!==l.length&&0!==k.length||0!==a.length)l=b(l,k),l=b(l,a);-1!==l.indexOf("*")&&(l=y);var a=l,d=a.length,u,r,h=[],x,k="outerHTML"===c.attr||"outerText"===c.attr?c.attr:void 0,
l=c.target;void 0!==k&&(c.attr="appendChild",c.arguments=[c.target],c.target=c.target.parentElement);if(e){"appendChild"===c.attr&&3!==c.arguments[0].nodeType&&8!==c.arguments[0].nodeType?(h=Array.prototype.slice.call(c.arguments[0].querySelectorAll("input,textarea")),"INPUT"!==c.arguments[0].tagName&&"TEXTAREA"!==c.arguments[0].tagName||h.unshift(c.arguments[0])):h=Array.prototype.slice.call(c.target.querySelectorAll("input,textarea"));x=h.length;for(var w=0;w<x;w++)void 0!==h[w].addInputBinding&&
h[w].addInputBinding(),void 0!==h[w].addInputBoxBinding&&h[w].addInputBoxBinding()}"appendChild"===c.attr&&"#text"!==c.arguments[0].nodeName&&"#comment"!==c.arguments[0].nodeName?(h=Array.prototype.slice.call(c.arguments[0].querySelectorAll("*")),h.unshift(c.arguments[0])):h=Array.prototype.slice.call(c.target.querySelectorAll("*"));e=c.target.__kb._parentAttrListeners;n=c.target.__kb._parentAttrUpdateListeners;m=c.target.__kb._parentStyleListeners;u=c.target.__kb._parentStyleUpdateListeners;x=h.length;
for(w=0;w<x;w++){if(0!==d)for(r=0;r<d;r++)f.injectStyleProperty(h[w],a[r]);r=h[w].attrListeners();g(e,r._parentAttrListeners);g(n,r._parentAttrUpdateListeners);g(m,r._parentStyleListeners);g(u,r._parentStyleUpdateListeners)}void 0!==k&&(c.attr=k,c.target=l,c.arguments=[])}}function a(b){var c=b.target.attributes[b.arguments[0]],g="setAttribute"===b.attr?b.arguments[1]:"";e(b.target,b.arguments[0],g,void 0!==c?c.value:"",[g])||b.preventDefault()}function k(b){var c=b.target.attributes[b.arguments[0]],
a="setAttribute"===b.attr?b.arguments[1]:"";h(b.target,b.arguments[0],a,void 0!==c?c.value:"",[a])}f.injectPrototypes(Node,"Node");f.injectPrototypes(Element,"Element");f.injectPrototypes(HTMLElement,"HTMLElement");f.injectPrototypes(HTMLInputElement,"HTMLInputElement");f.injectPrototypes(HTMLTextAreaElement,"HTMLTextAreaElement");f.injectPrototypes(Document,"Document");var e=n,h=C;f.addAttrUpdateListener("appendChild",c);f.addAttrUpdateListener("removeChild",c);f.addAttrUpdateListener("innerHTML",
c);f.addAttrUpdateListener("outerHTML",c);f.addAttrUpdateListener("innerText",c);f.addAttrUpdateListener("outerText",c);f.addAttrUpdateListener("textContent",c);f.addAttrListener("setAttribute",a);f.addAttrListener("removeAttribute",a);f.addAttrUpdateListener("setAttribute",k);f.addAttrUpdateListener("removeAttribute",k);return f}var A={},z={},D={},B={},u={},r="textContent innerHTML innerText outerHTML outerText appendChild removeChild replaceChild insertAdjacentHTML insertBefore".split(" "),y=Object.getOwnPropertyNames(document.body.style),
x=Object.keys(HTMLElement.prototype).filter(function(b){return 0===b.indexOf("on")}).concat(["addEventListener","removeEventListener"]),a,n=function(b,a,c,d,f,e){c=new N(b,a,c,d,f,void 0,"set",e);void 0!==b.__kb&&(d=b.__kb._attrListeners,f=b.__kb._styleListeners,e=b.__kb._parentAttrListeners,b=b.__kb._parentStyleListeners,void 0!==d[a]&&m(d[a],c),void 0===c._stopPropogation&&void 0!==f[a]&&m(f[a],c),void 0===c._stopPropogation&&void 0!==d["*"]&&(m(d["*"],c),void 0===c._stopPropogation&&m(f["*"],c)),
void 0===c._stopPropogation&&void 0!==e[a]&&w(e[a],c),void 0===c._stopPropogation&&void 0!==b[a]&&w(b[a],c),void 0===c._stopPropogation&&void 0!==e["*"]&&(w(e["*"],c),void 0===c._stopPropogation&&w(b["*"],c)));void 0===c._stopPropogation&&void 0!==A[a]&&m(A[a],c);void 0===c._stopPropogation&&void 0!==D[a]&&m(D[a],c);void 0===c._stopPropogation&&void 0!==A["*"]&&(m(A["*"],c),void 0===c._stopPropogation&&m(D["*"],c));return void 0!==c._preventDefault?!1:!0},C=function(b,a,c,d,f,e){c=new N(b,a,c,d,f,
e,"update");void 0!==b.__kb&&(d=b.__kb._attrUpdateListeners,f=b.__kb._styleUpdateListeners,e=b.__kb._parentAttrUpdateListeners,b=b.__kb._parentStyleUpdateListeners,void 0!==d[a]&&m(d[a],c),void 0===c._stopPropogation&&void 0!==f[a]&&m(f[a],c),void 0===c._stopPropogation&&void 0!==d["*"]&&(m(d["*"],c),void 0===c._stopPropogation&&m(f["*"],c)),void 0===c._stopPropogation&&void 0!==e[a]&&w(e[a],c),void 0===c._stopPropogation&&void 0!==b[a]&&w(b[a],c),void 0===c._stopPropogation&&void 0!==e["*"]&&(w(e["*"],
c),void 0===c._stopPropogation&&w(b["*"],c)));void 0===c._stopPropogation&&void 0!==z[a]&&m(z[a],c);void 0===c._stopPropogation&&void 0!==B[a]&&m(B[a],c);void 0===c._stopPropogation&&void 0!==z["*"]&&(m(z["*"],c),void 0===c._stopPropogation&&m(B["*"],c));return void 0!==c._preventDefault?!1:!0};f.injectPrototypeProperty=function(b,a,c,d,k){var e=b.prototype,h=Object.getOwnPropertyDescriptor(e,a);c=c||b.toString().split(/\s+/)[1].split("{")[0].replace("()","");var m=u[c];d=d||n;k=k||C;void 0===e.attrListeners&&
(e={},e.attrListeners=function(){void 0===this.__kb&&(this.__kb=new P);return this.__kb}.bind(e),e.addAttrListener=f.addAttrListener,e.addAttrUpdateListener=f.addAttrUpdateListener,e.addChildAttrListener=L,e.addChildAttrUpdateListener=Q,e.hasListener=J,e.removeAttrListener=f.removeAttrListener,e.removeAttrUpdateListener=f.removeAttrUpdateListener,e.removeChildAttrListener=K,e.removeChildAttrUpdateListener=M,e.stopChange=l);void 0===m&&(u[c]={obj:b,proto:e,descriptors:{},set:void 0,update:void 0},
m=u[c],m.set=d,m.update=k);void 0===m.descriptors[a]&&(m.descriptors[a]=h);h.configurable&&(void 0!==h.set?Object.defineProperty(e,a,{get:h.get,set:R(h,a,d,k),enumerable:!0,configurable:!0}):"function"===typeof h.value?Object.defineProperty(e,a,{value:T(h,a,d,k),writable:!0,enumerable:!0,configurable:!0}):void 0!==h.value&&Object.defineProperty(e,a,{get:function(){return h.value},set:S(h,a,d,k),enumerable:!0,configurable:!0}));return f};f.injectStyleProperty=function(b,a,c,d){var k=b.style,e=Object.getOwnPropertyDescriptor(k,
a),h=b.attrListeners().injectedStyle;c=c||n;d=d||C;void 0===h&&(b.attrListeners().injectedStyle={obj:b,proto:k,descriptors:{},set:void 0,update:void 0},b.attrListeners().injectedStyle.set=c,b.attrListeners().injectedStyle.update=d,h=b.attrListeners().injectedStyle);void 0===h.descriptors[a]&&(h.descriptors[a]=e);e.configurable&&Object.defineProperty(k,a,O(e,a,c,d,b));return f};f.injectPrototypes=function(b,a,c,d){var k=b.prototype;a=a||b.toString().split(/\s+/)[1].split("{")[0].replace("()","");var e=
u[a],h=Object.getOwnPropertyNames(k);c=c||n;d=d||C;var m;void 0===k.attrListeners&&(k.attrListeners=function(){void 0===this.__kb&&(this.__kb=new P);return this.__kb},k.addAttrListener=f.addAttrListener,k.addAttrUpdateListener=f.addAttrUpdateListener,k.addChildAttrListener=L,k.addChildAttrUpdateListener=Q,k.removeAttrListener=f.removeAttrListener,k.removeAttrUpdateListener=f.removeAttrUpdateListener,k.removeChildAttrListener=K,k.removeChildAttrUpdateListener=M,k.hasListener=J,k.stopChange=l);void 0===
e&&(u[a]={obj:b,proto:k,descriptors:{},set:void 0,update:void 0},e=u[a],e.set=c,e.update=d);m=u[a].descriptors;for(d=0;d<h.length;d+=1)void 0===m[h[d]]&&f.injectPrototypeProperty(b,h[d],a,c,C);if(-1!==h.indexOf("value")){var p=function(b){var a,c,d;if("checkbox"===this.type||"radio"===this.type)a=!0;c=a?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;setTimeout(function(){d=a?"string"===typeof this.checked?this.checked:this.checked?"true":"false":this.value;a&&(e.set(this,
"checked",this.checked,c)?e.update(this,"checked",this.checked,c):m.checked.set.call(this,c));this.value=d;e.set(this,"value",this.value,c)?e.update(this,"value",this.value,c):m.value.set.call(this,c)}.bind(this),0)};k.removeInputBinding=function(){this.attrListeners()._onkeydown=void 0;this.removeEventListener("keydown",p)};k.addInputBinding=function(){this.attrListeners()._onkeydown=!0;this.addEventListener("keydown",p)};k.removeInputBoxBinding=function(){this.attrListeners()._onmousedown=void 0;
this.removeEventListener("mouseup",p)};k.addInputBoxBinding=function(){this.attrListeners()._onmousedown=!0;this.addEventListener("mouseup",p)}}return f};f.addAttrListener=function(b,a,c){if("html"===b){b=0;for(var d=r.length;b<d;b++)E.call(this,r[b],a,c,!1)}else if("events"===b)for(b=0,d=x.length;b<d;b++)E.call(this,x[b],a,c,!1);else E.call(this,b,a,c,!1);return this};f.addAttrUpdateListener=function(b,a,c){if("html"===b){b=0;for(var d=r.length;b<d;b++)E.call(this,r[b],a,c,!0)}else if("events"===
b)for(b=0,d=x.length;b<d;b++)E.call(this,x[b],a,c,!0);else E.call(this,b,a,c,!0);return this};f.removeAttrListener=function(b,a,c){if("html"===b){b=0;for(var d=r.length;b<d;b++)F.call(this,r[b],a,c,!1)}else if("events"===b)for(b=0,d=x.length;b<d;b++)F.call(this,x[b],a,c,!1);else F.call(this,b,a,c,!1);return this};f.removeAttrUpdateListener=function(b,a,c){if("html"===b){b=0;for(var d=r.length;b<d;b++)F.call(this,r[b],a,c,!0)}else if("events"===b)for(b=0,d=x.length;b<d;b++)F.call(this,x[b],a,c,!0);
else F.call(this,b,a,c,!0);return this};f.hasListener=function(b,a,c){"html"===a&&(a="innerHTML");"events"===a&&(a="onclick");switch(b){case "attr":if(I(A[a],c))return!0;break;case "attrupdate":if(I(z[a],c))return!0}return!1};f.injectedPrototypes=function(){return u};return f}"function"===typeof define&&define.amd&&define("KB",H);return H}());"undefined"!==typeof window&&"undefined"!==typeof window.define&&"undefined"!==typeof window.require?define([],function(){return H}):"undefined"!==typeof module&&
(module.exports=H);return H}();
